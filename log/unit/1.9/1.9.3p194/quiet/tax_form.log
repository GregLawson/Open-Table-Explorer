testing
2015-04-14 09:55:15.715
ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-linux]
Run options: 

# Running tests:

.F....$ /home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//bin/taxsolve_CA_540_2014 test/data_sources/tax_form/2014/examples_and_templates/CA_540//CA_540_example.txt >test/data_sources/tax_form/2014/examples_and_templates/CA_540//CA_540_example_sysout.txt
@errors="sh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/CA_540//CA_540_example_sysout.txt: Directory nonexistent\n"
@process_status=#<Process::Status: pid 13417 exit 2>
peculiar_status=false
message='file=test/data_sources/tax_form/2014/examples_and_templates/CA_540//CA_540_example_sysout.txt does not existsh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/CA_540//CA_540_example_sysout.txt: Directory nonexistent
'
F...F.........$ /home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//bin/taxsolve_US_1040_2014 test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example.txt >test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example_sysout.txt
@errors="sh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example_sysout.txt: Directory nonexistent\n"
@process_status=#<Process::Status: pid 13444 exit 2>
peculiar_status=false
message='file=test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example_sysout.txt does not existsh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example_sysout.txt: Directory nonexistent
'
F$ /home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//bin/taxsolve_US_1040_2014 test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example1.txt >test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example1_sysout.txt
@errors="sh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example1_sysout.txt: Directory nonexistent\n"
@process_status=#<Process::Status: pid 13454 exit 2>
peculiar_status=false
message='file=test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example1_sysout.txt does not existsh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example1_sysout.txt: Directory nonexistent
'
FF.E.$ pdftoppm -jpeg  US_1040_example_otff.pdf US_1040_2014_example
@errors="Error: Couldn't open file 'US_1040_example_otff.pdf': No such file or directory.\n"
@process_status=#<Process::Status: pid 13471 exit 1>
FE$ /home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//bin/taxsolve_US_1040_2014 test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_template.txt >test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_template_sysout.txt
@errors="sh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_template_sysout.txt: Directory nonexistent\n"
@process_status=#<Process::Status: pid 13474 exit 2>
peculiar_status=false
message='file=test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_template_sysout.txt does not existsh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_template_sysout.txt: Directory nonexistent
'
FE

Finished tests in 0.659692s, 45.4758 tests/s, 212.2202 assertions/s.

  1) Failure:
test_Examples(TaxFormTest) [test/unit/tax_form_test.rb:242]:
constant name=US1040_user
In assert_pre_conditions, self=#<OpenTableExplorer::Finance::TaxForm:0x0000000195a690 @taxpayer="greg", @form="1040", @jurisdiction=:US, @tax_year=2014, @open_tax_solver_all_form_directory="/home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/", @form_filename="US_1040", @open_tax_solver_form_directory="/home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/US_1040/", @taxpayer_basename="US_1040_greg", @taxpayer_basename_with_year="US_1040_2014_greg", @open_tax_solver_binary="/home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//bin/taxsolve_US_1040_2014", @open_tax_solver_input="/home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/US_1040//US_1040_greg.txt", @open_tax_solver_output="/home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/US_1040//US_1040_greg_out.txt", @open_tax_solver_sysout="/home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/US_1040//US_1040_greg_sysout.txt", @output_pdf="/home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/US_1040//US_1040_greg_otff.pdf">.
<nil> expected to not be nil.

  2) Failure:
test_assert_build(TaxFormTest) [test/unit/tax_form_test.rb:226]:

Pathname(/home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/CA_540/CA_540_example_out.txt).exist?=false
parent directory /home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/CA_540 does exists containing ["CA_540_2012_example_OTS.json"]

  3) Failure:
test_assert_open_tax_solver(TaxFormTest) [test/unit/tax_form_test.rb:206]:

Pathname(/home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/CA_540/CA_540_example_out.txt).exist?=false
parent directory /home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/CA_540 does exists containing ["CA_540_2012_example_OTS.json"]

  4) Failure:
test_example(TaxFormTest) [test/unit/tax_form_test.rb:73]:

Pathname(/home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/US_1040/US_1040_example_out.txt).exist?=false
parent directory /home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/US_1040 does exists containing ["US_1040_example_OTS.json", "US_1040_template_OTS.json", "US_1040_example1_OTS.json"]

  5) Failure:
test_example1(TaxFormTest) [test/unit/tax_form_test.rb:87]:

Pathname(/home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/US_1040/US_1040_example1_out.txt).exist?=false
parent directory /home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/US_1040 does exists containing ["US_1040_example_OTS.json", "US_1040_template_OTS.json", "US_1040_example1_OTS.json"]

  6) Failure:
test_initialize(TaxFormTest) [test/unit/tax_form_test.rb:65]:
<"CA_540_2014_example"> expected but was
<"CA_540_example">.

  7) Error:
test_open_tax_solver_distribution_directory(TaxFormTest):
ArgumentError: wrong number of arguments (1 for 0)
    /home/greg/Desktop/src/Open-Table-Explorer/app/models/tax_form.rb:64:in `open_tax_solver_distribution_directory'
    test/unit/tax_form_test.rb:46:in `test_open_tax_solver_distribution_directory'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:1058:in `run'
    /usr/lib/ruby/1.9.1/test/unit/testcase.rb:17:in `run'
    /usr/lib/ruby/vendor_ruby/active_support/testing/setup_and_teardown.rb:36:in `block in run'
    /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:403:in `_run__1827465523033525578__setup__1688860529538187651__callbacks'
    /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:405:in `__run_callback'
    /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:385:in `_run_setup_callbacks'
    /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:81:in `run_callbacks'
    /usr/lib/ruby/vendor_ruby/active_support/testing/setup_and_teardown.rb:35:in `run'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:823:in `block in _run_suite'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:815:in `map'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:815:in `_run_suite'
    /usr/lib/ruby/1.9.1/test/unit.rb:565:in `block in _run_suites'
    /usr/lib/ruby/1.9.1/test/unit.rb:563:in `each'
    /usr/lib/ruby/1.9.1/test/unit.rb:563:in `_run_suites'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:775:in `_run_anything'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:964:in `run_tests'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:951:in `block in _run'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:950:in `each'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:950:in `_run'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:939:in `run'
    /usr/lib/ruby/1.9.1/test/unit.rb:21:in `run'
    /usr/lib/ruby/1.9.1/test/unit.rb:326:in `block (2 levels) in autorun'
    /usr/lib/ruby/1.9.1/test/unit.rb:27:in `run_once'
    /usr/lib/ruby/1.9.1/test/unit.rb:325:in `block in autorun'

  8) Failure:
test_run_pdf_to_jpeg(TaxFormTest) [test/unit/tax_form_test.rb:174]:
self=$ pdftoppm -jpeg  US_1040_example_otff.pdf US_1040_2014_example
@errors="Error: Couldn't open file 'US_1040_example_otff.pdf': No such file or directory.\n"
@process_status=#<Process::Status: pid 13471 exit 1>
expected errors to be empty\n
"Error: Couldn't open file 'US_1040_example_otff.pdf': No such file or directory.\n" is not empty.

  9) Error:
test_run_tax_solver(TaxFormTest):
NoMethodError: undefined method `+' for nil:NilClass
    /home/greg/Desktop/src/Open-Table-Explorer/app/models/tax_form.rb:78:in `initialize'
    test/unit/tax_form_test.rb:110:in `new'
    test/unit/tax_form_test.rb:110:in `test_run_tax_solver'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:1058:in `run'
    /usr/lib/ruby/1.9.1/test/unit/testcase.rb:17:in `run'
    /usr/lib/ruby/vendor_ruby/active_support/testing/setup_and_teardown.rb:36:in `block in run'
    /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:403:in `_run__1827465523033525578__setup__1688860529538187651__callbacks'
    /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:405:in `__run_callback'
    /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:385:in `_run_setup_callbacks'
    /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:81:in `run_callbacks'
    /usr/lib/ruby/vendor_ruby/active_support/testing/setup_and_teardown.rb:35:in `run'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:823:in `block in _run_suite'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:815:in `map'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:815:in `_run_suite'
    /usr/lib/ruby/1.9.1/test/unit.rb:565:in `block in _run_suites'
    /usr/lib/ruby/1.9.1/test/unit.rb:563:in `each'
    /usr/lib/ruby/1.9.1/test/unit.rb:563:in `_run_suites'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:775:in `_run_anything'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:964:in `run_tests'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:951:in `block in _run'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:950:in `each'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:950:in `_run'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:939:in `run'
    /usr/lib/ruby/1.9.1/test/unit.rb:21:in `run'
    /usr/lib/ruby/1.9.1/test/unit.rb:326:in `block (2 levels) in autorun'
    /usr/lib/ruby/1.9.1/test/unit.rb:27:in `run_once'
    /usr/lib/ruby/1.9.1/test/unit.rb:325:in `block in autorun'

 10) Failure:
test_template(TaxFormTest) [test/unit/tax_form_test.rb:90]:

Pathname(/home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/US_1040/US_1040_template_out.txt).exist?=false
parent directory /home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/US_1040 does exists containing ["US_1040_example_OTS.json", "US_1040_template_OTS.json", "US_1040_example1_OTS.json"]

 11) Error:
test_user(TaxFormTest):
NoMethodError: undefined method `success?' for nil:NilClass
    /home/greg/Desktop/src/Open-Table-Explorer/app/models/tax_form.rb:245:in `assert_build'
    test/unit/tax_form_test.rb:83:in `test_user'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:1058:in `run'
    /usr/lib/ruby/1.9.1/test/unit/testcase.rb:17:in `run'
    /usr/lib/ruby/vendor_ruby/active_support/testing/setup_and_teardown.rb:36:in `block in run'
    /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:403:in `_run__1827465523033525578__setup__1688860529538187651__callbacks'
    /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:405:in `__run_callback'
    /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:385:in `_run_setup_callbacks'
    /usr/lib/ruby/vendor_ruby/active_support/callbacks.rb:81:in `run_callbacks'
    /usr/lib/ruby/vendor_ruby/active_support/testing/setup_and_teardown.rb:35:in `run'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:823:in `block in _run_suite'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:815:in `map'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:815:in `_run_suite'
    /usr/lib/ruby/1.9.1/test/unit.rb:565:in `block in _run_suites'
    /usr/lib/ruby/1.9.1/test/unit.rb:563:in `each'
    /usr/lib/ruby/1.9.1/test/unit.rb:563:in `_run_suites'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:775:in `_run_anything'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:964:in `run_tests'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:951:in `block in _run'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:950:in `each'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:950:in `_run'
    /usr/lib/ruby/vendor_ruby/minitest/unit.rb:939:in `run'
    /usr/lib/ruby/1.9.1/test/unit.rb:21:in `run'
    /usr/lib/ruby/1.9.1/test/unit.rb:326:in `block (2 levels) in autorun'
    /usr/lib/ruby/1.9.1/test/unit.rb:27:in `run_once'
    /usr/lib/ruby/1.9.1/test/unit.rb:325:in `block in autorun'

30 tests, 140 assertions, 8 failures, 3 errors, 0 skips
