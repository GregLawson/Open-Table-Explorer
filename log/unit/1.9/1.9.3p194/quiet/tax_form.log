testing
2015-04-14 11:54:19.509
ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-linux]
Run options: 

# Running tests:

.F....$ /home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//bin/taxsolve_CA_540_2014 test/data_sources/tax_form/2014/examples_and_templates/CA_540//CA_540_2014_example.txt >test/data_sources/tax_form/2014/examples_and_templates/CA_540//CA_540_2014_example_sysout.txt
@errors="sh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/CA_540//CA_540_2014_example_sysout.txt: Directory nonexistent\n"
@process_status=#<Process::Status: pid 29642 exit 2>
peculiar_status=false
message='file=test/data_sources/tax_form/2014/examples_and_templates/CA_540//CA_540_2014_example_sysout.txt does not existsh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/CA_540//CA_540_2014_example_sysout.txt: Directory nonexistent
'
F...F.........$ /home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//bin/taxsolve_US_1040_2014 test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example.txt >test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example_sysout.txt
@errors="sh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example_sysout.txt: Directory nonexistent\n"
@process_status=#<Process::Status: pid 29669 exit 2>
peculiar_status=false
message='file=test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example_sysout.txt does not existsh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example_sysout.txt: Directory nonexistent
'
F$ /home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//bin/taxsolve_US_1040_2014 test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example1.txt >test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example1_sysout.txt
@errors="sh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example1_sysout.txt: Directory nonexistent\n"
@process_status=#<Process::Status: pid 29679 exit 2>
peculiar_status=false
message='file=test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example1_sysout.txt does not existsh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example1_sysout.txt: Directory nonexistent
'
F....$ pdftoppm -jpeg  US_1040_example_otff.pdf US_1040_2014_example
@errors="Error: Couldn't open file 'US_1040_example_otff.pdf': No such file or directory.\n"
@process_status=#<Process::Status: pid 29696 exit 1>
F$ /home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//bin/taxsolve_US_1040_2014 /home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/US_1040//US_1040_example.txt >/home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/US_1040//US_1040_example_sysout.txt
peculiar_status=false
message='US 1040 2014 - v12.01
Writing results to file:  /home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/US_1040//US_1040_example_out.txt
	Qual. Div & Gains WorkSheet 1:  30863.94
	Qual. Div & Gains WorkSheet 2:    146.51
	Qual. Div & Gains WorkSheet 3:    551.73
	Qual. Div & Gains WorkSheet 4:    698.24
	Qual. Div & Gains WorkSheet 5:      0.00
	Qual. Div & Gains WorkSheet 6:    698.24
	Qual. Div & Gains WorkSheet 7:  30165.70
	Qual. Div & Gains WorkSheet 8:  30863.94
	Qual. Div & Gains WorkSheet 9:  30863.94
	Qual. Div & Gains WorkSheet 10:  30165.70
	Qual. Div & Gains WorkSheet 11:    698.24
	Qual. Div & Gains WorkSheet 12:    698.24
	Qual. Div & Gains WorkSheet 13:    698.24
	Qual. Div & Gains WorkSheet 14:     -0.00
	Qual. Div & Gains WorkSheet 15:  457600.00
	Qual. Div & Gains WorkSheet 16:  30863.94
	Qual. Div & Gains WorkSheet 17:  30863.94
	Qual. Div & Gains WorkSheet 18:      0.00
	Qual. Div & Gains WorkSheet 19:     -0.00
	Qual. Div & Gains WorkSheet 20:     -0.00
	Qual. Div & Gains WorkSheet 21:    698.24
	Qual. Div & Gains WorkSheet 22:      0.00
	Qual. Div & Gains WorkSheet 23:      0.00
	Qual. Div & Gains WorkSheet 24:   3619.00
	Qual. Div & Gains WorkSheet 25:   3619.00
	Qual. Div & Gains WorkSheet 26:   3724.00
	Qual. Div & Gains WorkSheet 27:   3619.00
Review AMT form6251 routine for your situation.
 		AMT Form 6251, L1 = 51163.94
 		AMT Form 6251, L7 =  -625.83
 		AMT Form 6251, L28 = 50538.11
 		AMT Form 6251, L29 = 82100.00
 		AMT Form 6251, L34 =  3619.00
 		AMT Form 6251, L35 =     0.00
Your Alternative Minimum Tax =     0.00

Listing results from file: /home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/US_1040//US_1040_example_out.txt


Title:  US Federal 1040 Tax Form - 2014 - EXAMPLE 	Tue Apr 14 11:54:19 2015

Status = Married/Joint (2)
 (Under65 = 2)
L6 = 2
L7 = 48456.23
L8a =  67.21
L9 = 253.91
L9b = 146.51
 Schedule-B:
  B2 =  67.21
  B4 =  67.21
  B6 = 253.91
L10 = 625.83
L11 =   0.00
L12 =   0.00

Form(s) 8949:

Form 8949 Part-I, Short-Term Cap Gains+Losses, CHECK (A) Basis Reported to IRS:
 1. (a Description)         (b Buy Date) (c Date Sold) (d Sold Price) (e Cost) (h Gain)
 ---------------------------------------------------------------------------------------
  40 Shares WMT                 6-20-11   10-12-11         950.99        -800.99         150.00
  500 Shares NAB                3-26-11   12-27-11        6009.01       -4949.98        1059.03
 ---------------------------------------------------------------------------------------
 2. Totals:                                               6960.00       -5750.97        1209.03


Form 8949 Part-II, Long-Term Cap Gains+Losses, CHECK (A) Basis Reported to IRS:
 3. (a Description)         (b Buy Date) (c Date Sold) (d Sold Price) (e Cost) (h Gain)
 ---------------------------------------------------------------------------------------
  100 Shares XOM               12-15-99    1-25-10        4209.95       -3658.22         551.73
 ---------------------------------------------------------------------------------------
 4. Totals:                                               4209.95       -3658.22         551.73

 Cap Gains/Losses Schedule-D
	Net Forms-8949 Short-term Gains =    1209.03
	Net Forms-8949 Long-term Gains  =     551.73
 D1b: d =    6960.00   e =   -5750.97    h =    1209.03
 D2:  d =       0.00   e =       0.00    h =       0.00
 D3:  d =       0.00   e =       0.00    h =       0.00
 D4 =   0.00
 D5 =   0.00
 D6 =   0.00		(Carry-over Loss)
 D7 = 1209.03		{ Net short-term capital gain or loss }
 D8b: d =    4209.95   e =   -3658.22   h =     551.73
 D9:  d =       0.00   e =       0.00   h =       0.00
 D10: d =       0.00   e =       0.00   h =       0.00
 D11 =   0.00
 D12 =   0.00
 D13 =   0.00
 D14 =   0.00	(Carry-over Loss)
 D15 = 551.73		{ Net long-term capital gain or loss }
 D16 = 1760.76
 D17 = yes
 D18 =   0.00
 D19 =   0.00
 D20 = Yes
L13 = 1760.76
L22 = 51163.94		total income
L36 =   0.00
L37 = 51163.94		Adjusted Gross Income
L38 = 51163.94
L39a = 0
 A2 = 51163.94
 A3 = 5116.39
 A5 = 5218.49
 A9 = 5218.49
 A16 = 124.00
 A19 = 124.00
 A25 = 51163.94
 A26 = 1023.28
 Your deduction is not limited.
 A29 = 5342.49
Use standard deduction.
L40 = 12400.00
L41 = 38763.94
L42 = 7900.00
L43 = 30863.94		Taxable income
Doing 'Qualified Dividends and Captial Gain tax Worksheet', page 34.
	Qual. Div & Gains WorkSheet 1:  30863.94
	Qual. Div & Gains WorkSheet 2:    146.51
		3: Check Yes.
	Qual. Div & Gains WorkSheet 3:    551.73
	Qual. Div & Gains WorkSheet 4:    698.24
	Qual. Div & Gains WorkSheet 5:      0.00
	Qual. Div & Gains WorkSheet 6:    698.24
	Qual. Div & Gains WorkSheet 7:  30165.70
	Qual. Div & Gains WorkSheet 8:  30863.94
	Qual. Div & Gains WorkSheet 9:  30863.94
	Qual. Div & Gains WorkSheet 10:  30165.70
	Qual. Div & Gains WorkSheet 11:    698.24
	Qual. Div & Gains WorkSheet 12:    698.24
	Qual. Div & Gains WorkSheet 13:    698.24
	Qual. Div & Gains WorkSheet 14:     -0.00
	Qual. Div & Gains WorkSheet 15:  457600.00
	Qual. Div & Gains WorkSheet 16:  30863.94
	Qual. Div & Gains WorkSheet 17:  30863.94
	Qual. Div & Gains WorkSheet 18:      0.00
	Qual. Div & Gains WorkSheet 19:     -0.00
	Qual. Div & Gains WorkSheet 20:     -0.00
	Qual. Div & Gains WorkSheet 21:    698.24
	Qual. Div & Gains WorkSheet 22:      0.00
	Qual. Div & Gains WorkSheet 23:      0.00
	Qual. Div & Gains WorkSheet 24:   3619.00
	Qual. Div & Gains WorkSheet 25:   3619.00
	Qual. Div & Gains WorkSheet 26:   3724.00
	Qual. Div & Gains WorkSheet 27:   3619.00
L44 = 3619.00		Tax
Review AMT form6251 routine for your situation.
 Sum of Form 6251 Lines 8 through 27 =     0.00
You may need to file AMT form 6251.  (AMTws[31]=0 which is NOT more than AMTws[34]=3619)
 (See "Who Must File" on page-1 of Instructions for Form-6251.)
 		AMT Form 6251, L1 = 51163.94
 		AMT Form 6251, L7 =  -625.83
 		AMT Form 6251, L28 = 50538.11
 		AMT Form 6251, L29 = 82100.00
 		AMT Form 6251, L34 =  3619.00
 		AMT Form 6251, L35 =     0.00
Your Alternative Minimum Tax =     0.00
 (Not subject to Alternative Minimum Tax.)
L46 =   0.00
L47 = 3619.00
L55 =   0.00
L56 = 3619.00
L63 = 3619.00		total tax
L64 = 4153.59
L74 = 4153.59		total payments
L75 = 534.59  REBATE!!!
L76a = 534.59 
'
$ /home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//bin/taxsolve_US_1040_2014 test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example.txt >test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example_sysout.txt
@errors="sh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example_sysout.txt: Directory nonexistent\n"
@process_status=#<Process::Status: pid 29704 exit 2>
peculiar_status=false
message='file=test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example_sysout.txt does not existsh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_example_sysout.txt: Directory nonexistent
'
F$ /home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//bin/taxsolve_US_1040_2014 test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_template.txt >test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_template_sysout.txt
@errors="sh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_template_sysout.txt: Directory nonexistent\n"
@process_status=#<Process::Status: pid 29707 exit 2>
peculiar_status=false
message='file=test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_template_sysout.txt does not existsh: 1: cannot create test/data_sources/tax_form/2014/examples_and_templates/US_1040//US_1040_template_sysout.txt: Directory nonexistent
'
F$ pdftk /home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxFormFiller/2014/PDF/.pdf fill_form  output /home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/US_1040//US_1040_greg_otff.pdf
@errors="Error: expecting a form data filename,\n   instead I got this keyword: output\nExiting.\nErrors encountered.  No output created.\nDone.  Input errors, so no output created.\n"
@process_status=#<Process::Status: pid 29721 exit 1>
$ pdftoppm -jpeg  US_1040_greg_otff.pdf US_1040_2014_greg
@errors="Error: Couldn't open file 'US_1040_greg_otff.pdf': No such file or directory.\n"
@process_status=#<Process::Status: pid 29725 exit 1>
F

Finished tests in 0.740042s, 40.5382 tests/s, 218.9065 assertions/s.

  1) Failure:
test_Examples(TaxFormTest) [test/unit/tax_form_test.rb:242]:
constant name=US1040_user
In assert_pre_conditions, self=#<OpenTableExplorer::Finance::TaxForm:0x00000001d544d0 @taxpayer="greg", @form="1040", @jurisdiction=:US, @tax_year=2014, @open_tax_solver_all_form_directory="/home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/", @form_filename="US_1040", @open_tax_solver_form_directory="/home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/US_1040/", @taxpayer_basename="US_1040_greg", @taxpayer_basename_with_year="US_1040_2014_greg", @open_tax_solver_binary="/home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//bin/taxsolve_US_1040_2014", @open_tax_solver_input="/home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/US_1040//US_1040_greg.txt", @open_tax_solver_output="/home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/US_1040//US_1040_greg_out.txt", @open_tax_solver_sysout="/home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/US_1040//US_1040_greg_sysout.txt", @output_pdf="/home/greg/Desktop/src/Open-Table-Explorer//../OpenTaxSolver2014_12.01-forms//examples_and_templates/US_1040//US_1040_greg_otff.pdf">.
<nil> expected to not be nil.

  2) Failure:
test_assert_build(TaxFormTest) [test/unit/tax_form_test.rb:226]:

Pathname(/home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/CA_540/CA_540_2014_example_out.txt).exist?=false
parent directory /home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/CA_540 does exists containing ["CA_540_2012_example_OTS.json", "CA_540_2014_example.txt", "README_CA_540.txt", "CA_540_2014_template.txt"]

  3) Failure:
test_assert_open_tax_solver(TaxFormTest) [test/unit/tax_form_test.rb:206]:

Pathname(/home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/CA_540/CA_540_2014_example_out.txt).exist?=false
parent directory /home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/CA_540 does exists containing ["CA_540_2012_example_OTS.json", "CA_540_2014_example.txt", "README_CA_540.txt", "CA_540_2014_template.txt"]

  4) Failure:
test_example(TaxFormTest) [test/unit/tax_form_test.rb:74]:

Pathname(/home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/US_1040/US_1040_example_sysout.txt).exist?=false
parent directory /home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/US_1040 does exists containing ["README_US_1040.txt", "US_1040_example_OTS.json", "US_1040_template.txt", "US_1040_template_OTS.json", "US_1040_example_out.txt", "US_1040_example1_OTS.json", "US_1040_example_f1040.xfdf", "US_1040_example.txt", "US_1040_example_f1040sd.xfdf"]

  5) Failure:
test_example1(TaxFormTest) [test/unit/tax_form_test.rb:88]:

Pathname(/home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/US_1040/US_1040_example1_out.txt).exist?=false
parent directory /home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/US_1040 does exists containing ["README_US_1040.txt", "US_1040_example_OTS.json", "US_1040_template.txt", "US_1040_template_OTS.json", "US_1040_example_out.txt", "US_1040_example1_OTS.json", "US_1040_example_f1040.xfdf", "US_1040_example.txt", "US_1040_example_f1040sd.xfdf"]

  6) Failure:
test_run_pdf_to_jpeg(TaxFormTest) [test/unit/tax_form_test.rb:174]:
self=$ pdftoppm -jpeg  US_1040_example_otff.pdf US_1040_2014_example
@errors="Error: Couldn't open file 'US_1040_example_otff.pdf': No such file or directory.\n"
@process_status=#<Process::Status: pid 29696 exit 1>
expected errors to be empty\n
"Error: Couldn't open file 'US_1040_example_otff.pdf': No such file or directory.\n" is not empty.

  7) Failure:
test_run_tax_solver(TaxFormTest) [test/unit/tax_form_test.rb:114]:

Pathname(/home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/US_1040/US_1040_example_sysout.txt).exist?=false
parent directory /home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/US_1040 does exists containing ["README_US_1040.txt", "US_1040_example_OTS.json", "US_1040_template.txt", "US_1040_template_OTS.json", "US_1040_example_out.txt", "US_1040_example1_OTS.json", "US_1040_example_f1040.xfdf", "US_1040_example.txt", "US_1040_example_f1040sd.xfdf"]

  8) Failure:
test_template(TaxFormTest) [test/unit/tax_form_test.rb:91]:

Pathname(/home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/US_1040/US_1040_template_out.txt).exist?=false
parent directory /home/greg/Desktop/src/Open-Table-Explorer/test/data_sources/tax_form/2014/examples_and_templates/US_1040 does exists containing ["README_US_1040.txt", "US_1040_example_OTS.json", "US_1040_template.txt", "US_1040_template_OTS.json", "US_1040_example_out.txt", "US_1040_example1_OTS.json", "US_1040_example_f1040.xfdf", "US_1040_example.txt", "US_1040_example_f1040sd.xfdf"]

  9) Failure:
test_user(TaxFormTest) [test/unit/tax_form_test.rb:84]:
self=$ pdftoppm -jpeg  US_1040_greg_otff.pdf US_1040_2014_greg
@errors="Error: Couldn't open file 'US_1040_greg_otff.pdf': No such file or directory.\n"
@process_status=#<Process::Status: pid 29725 exit 1>
expected errors to be empty\n
"Error: Couldn't open file 'US_1040_greg_otff.pdf': No such file or directory.\n" is not empty.

30 tests, 162 assertions, 9 failures, 0 errors, 0 skips
