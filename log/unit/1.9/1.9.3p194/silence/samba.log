testing
2015-09-28 19:42:14.096
ruby -v -W0 test/unit/samba_test.rb
ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-linux]
Run options: --seed 3

# Running:

..EFE.EEEE..E.

Finished in 1.957721s, 7.1512 runs/s, 91.9437 assertions/s.

  1) Error:
NewTestClass#test_tree:
RuntimeError: First argument of assert_include must be an Array or Set, not "IPC$"
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/ruby_assertions.rb:314:in `assert_includes'
    test/unit/samba_test.rb:83:in `test_tree'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:108:in `block (3 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:205:in `capture_exceptions'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:105:in `block (2 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:256:in `time_it'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:104:in `block in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:332:in `on_signal'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:276:in `with_info_handler'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:103:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:779:in `run_one_method'
    /usr/lib/ruby/vendor_ruby/minitest.rb:306:in `run_one_method'
    /usr/lib/ruby/vendor_ruby/minitest.rb:294:in `block (2 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:293:in `each'
    /usr/lib/ruby/vendor_ruby/minitest.rb:293:in `block in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:332:in `on_signal'
    /usr/lib/ruby/vendor_ruby/minitest.rb:319:in `with_info_handler'
    /usr/lib/ruby/vendor_ruby/minitest.rb:292:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `block in __run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `map'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `__run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:129:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:56:in `block in autorun'


  2) Failure:
NewTestClass#test_Constants [test/unit/samba_test.rb:58]:
--- expected
+++ actual
@@ -1 +1 @@
-"auto,rw,ip=,credentials=/home/greg/.samba/credentials/central,file_mode=0777,dir_mode=0777,serverino,acl"
+"auto,rw,ip=172.31.42.182,credentials=/home/greg/.samba/credentials/central,file_mode=0777,dir_mode=0777,serverino,acl"



  3) Error:
NewTestClass#test_umount:
NoMethodError: undefined method `assertions' for #<Samba:0x00000002111028>
    /usr/lib/ruby/vendor_ruby/minitest/assertions.rb:125:in `assert'
    /usr/lib/ruby/vendor_ruby/minitest/assertions.rb:163:in `assert_equal'
    /home/greg/Desktop/src/Open-Table-Explorer/app/models/samba.rb:188:in `assert_unmounted'
    test/unit/samba_test.rb:146:in `test_umount'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:108:in `block (3 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:205:in `capture_exceptions'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:105:in `block (2 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:256:in `time_it'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:104:in `block in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:332:in `on_signal'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:276:in `with_info_handler'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:103:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:779:in `run_one_method'
    /usr/lib/ruby/vendor_ruby/minitest.rb:306:in `run_one_method'
    /usr/lib/ruby/vendor_ruby/minitest.rb:294:in `block (2 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:293:in `each'
    /usr/lib/ruby/vendor_ruby/minitest.rb:293:in `block in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:332:in `on_signal'
    /usr/lib/ruby/vendor_ruby/minitest.rb:319:in `with_info_handler'
    /usr/lib/ruby/vendor_ruby/minitest.rb:292:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `block in __run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `map'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `__run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:129:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:56:in `block in autorun'


  4) Error:
NewTestClass#test_servers:
NoMethodError: undefined method `output?' for #<ShellCommands:0x00000002364a50>
    test/unit/samba_test.rb:76:in `test_servers'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:108:in `block (3 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:205:in `capture_exceptions'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:105:in `block (2 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:256:in `time_it'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:104:in `block in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:332:in `on_signal'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:276:in `with_info_handler'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:103:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:779:in `run_one_method'
    /usr/lib/ruby/vendor_ruby/minitest.rb:306:in `run_one_method'
    /usr/lib/ruby/vendor_ruby/minitest.rb:294:in `block (2 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:293:in `each'
    /usr/lib/ruby/vendor_ruby/minitest.rb:293:in `block in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:332:in `on_signal'
    /usr/lib/ruby/vendor_ruby/minitest.rb:319:in `with_info_handler'
    /usr/lib/ruby/vendor_ruby/minitest.rb:292:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `block in __run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `map'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `__run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:129:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:56:in `block in autorun'


  5) Error:
NewTestClass#test_parse_options:
TypeError: can't convert nil into String
    test/unit/samba_test.rb:97:in `+'
    test/unit/samba_test.rb:97:in `test_parse_options'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:108:in `block (3 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:205:in `capture_exceptions'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:105:in `block (2 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:256:in `time_it'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:104:in `block in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:332:in `on_signal'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:276:in `with_info_handler'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:103:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:779:in `run_one_method'
    /usr/lib/ruby/vendor_ruby/minitest.rb:306:in `run_one_method'
    /usr/lib/ruby/vendor_ruby/minitest.rb:294:in `block (2 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:293:in `each'
    /usr/lib/ruby/vendor_ruby/minitest.rb:293:in `block in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:332:in `on_signal'
    /usr/lib/ruby/vendor_ruby/minitest.rb:319:in `with_info_handler'
    /usr/lib/ruby/vendor_ruby/minitest.rb:292:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `block in __run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `map'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `__run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:129:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:56:in `block in autorun'


  6) Error:
NewTestClass#test_workgroups:
RuntimeError: First argument of assert_include must be an Array or Set, not "WORKGROUP"
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/ruby_assertions.rb:314:in `assert_includes'
    test/unit/samba_test.rb:73:in `test_workgroups'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:108:in `block (3 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:205:in `capture_exceptions'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:105:in `block (2 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:256:in `time_it'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:104:in `block in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:332:in `on_signal'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:276:in `with_info_handler'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:103:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:779:in `run_one_method'
    /usr/lib/ruby/vendor_ruby/minitest.rb:306:in `run_one_method'
    /usr/lib/ruby/vendor_ruby/minitest.rb:294:in `block (2 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:293:in `each'
    /usr/lib/ruby/vendor_ruby/minitest.rb:293:in `block in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:332:in `on_signal'
    /usr/lib/ruby/vendor_ruby/minitest.rb:319:in `with_info_handler'
    /usr/lib/ruby/vendor_ruby/minitest.rb:292:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `block in __run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `map'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `__run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:129:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:56:in `block in autorun'


  7) Error:
NewTestClass#test_mount:
NoMethodError: undefined method `assert_post_conditions' for #<ShellCommands:0x00000001e84008>
    test/unit/samba_test.rb:134:in `test_mount'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:108:in `block (3 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:205:in `capture_exceptions'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:105:in `block (2 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:256:in `time_it'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:104:in `block in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:332:in `on_signal'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:276:in `with_info_handler'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:103:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:779:in `run_one_method'
    /usr/lib/ruby/vendor_ruby/minitest.rb:306:in `run_one_method'
    /usr/lib/ruby/vendor_ruby/minitest.rb:294:in `block (2 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:293:in `each'
    /usr/lib/ruby/vendor_ruby/minitest.rb:293:in `block in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:332:in `on_signal'
    /usr/lib/ruby/vendor_ruby/minitest.rb:319:in `with_info_handler'
    /usr/lib/ruby/vendor_ruby/minitest.rb:292:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `block in __run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `map'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `__run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:129:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:56:in `block in autorun'


  8) Error:
NewTestClass#test_mounted?:
NoMethodError: undefined method `assertions' for #<Samba:0x00000001e39e90>
    /usr/lib/ruby/vendor_ruby/minitest/assertions.rb:125:in `assert'
    /usr/lib/ruby/vendor_ruby/minitest/assertions.rb:163:in `assert_equal'
    /home/greg/Desktop/src/Open-Table-Explorer/app/models/samba.rb:183:in `assert_mounted'
    test/unit/samba_test.rb:154:in `test_mounted?'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:108:in `block (3 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:205:in `capture_exceptions'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:105:in `block (2 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:256:in `time_it'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:104:in `block in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:332:in `on_signal'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:276:in `with_info_handler'
    /usr/lib/ruby/vendor_ruby/minitest/test.rb:103:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:779:in `run_one_method'
    /usr/lib/ruby/vendor_ruby/minitest.rb:306:in `run_one_method'
    /usr/lib/ruby/vendor_ruby/minitest.rb:294:in `block (2 levels) in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:293:in `each'
    /usr/lib/ruby/vendor_ruby/minitest.rb:293:in `block in run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:332:in `on_signal'
    /usr/lib/ruby/vendor_ruby/minitest.rb:319:in `with_info_handler'
    /usr/lib/ruby/vendor_ruby/minitest.rb:292:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `block in __run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `map'
    /usr/lib/ruby/vendor_ruby/minitest.rb:155:in `__run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:129:in `run'
    /usr/lib/ruby/vendor_ruby/minitest.rb:56:in `block in autorun'

14 runs, 180 assertions, 1 failures, 7 errors, 0 skips

