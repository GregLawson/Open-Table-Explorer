testing
2015-10-25 17:23:08.159
ruby -v -W0 test/unit/shell_command_test.rb
ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-linux]
Run options: --seed 0

# Running:

..E$ ssh greg@localhost echo "cat"
@errors="Connection closed by UNKNOWN\r\n"
@process_status=#<Process::Status: pid 13061 exit 255>
EE.EEErescue exception in Shell#execute#<Errno::ENOENT: No such file or directory - cd /tmp>
/home/greg/Desktop/src/Open-Table-Explorer/app/models/shell_command.rb:88:in `execute'
/home/greg/Desktop/src/Open-Table-Explorer/app/models/shell_command.rb:117:in `initialize'
test/unit/shell_command_test.rb:122:in `new'
test/unit/shell_command_test.rb:122:in `test_02'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:108:in `block (3 levels) in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:205:in `capture_exceptions'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:105:in `block (2 levels) in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:256:in `time_it'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:104:in `block in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:334:in `on_signal'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:276:in `with_info_handler'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:103:in `run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:781:in `run_one_method'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:308:in `run_one_method'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:296:in `block (2 levels) in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:295:in `each'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:295:in `block in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:334:in `on_signal'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:321:in `with_info_handler'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:294:in `run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:155:in `block in __run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:155:in `map'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:155:in `__run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:129:in `run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:56:in `block in autorun'
....rescue exception in Shell#execute#<Errno::ENOENT: No such file or directory - cd /home/greg/Desktop/src/Open-Table-Explorer/test/unit>
/home/greg/Desktop/src/Open-Table-Explorer/app/models/shell_command.rb:88:in `execute'
/home/greg/Desktop/src/Open-Table-Explorer/app/models/shell_command.rb:117:in `initialize'
test/unit/shell_command_test.rb:130:in `new'
test/unit/shell_command_test.rb:130:in `test_04'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:108:in `block (3 levels) in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:205:in `capture_exceptions'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:105:in `block (2 levels) in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:256:in `time_it'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:104:in `block in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:334:in `on_signal'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:276:in `with_info_handler'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:103:in `run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:781:in `run_one_method'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:308:in `run_one_method'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:296:in `block (2 levels) in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:295:in `each'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:295:in `block in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:334:in `on_signal'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:321:in `with_info_handler'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:294:in `run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:155:in `block in __run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:155:in `map'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:155:in `__run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:129:in `run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:56:in `block in autorun'
.E.F..E..F....rescue exception in Shell#execute#<Errno::ENOENT: No such file or directory - cd /home/greg/Desktop/src/Open-Table-Explorer/test/unit>
/home/greg/Desktop/src/Open-Table-Explorer/app/models/shell_command.rb:88:in `execute'
/home/greg/Desktop/src/Open-Table-Explorer/app/models/shell_command.rb:117:in `initialize'
test/unit/shell_command_test.rb:126:in `new'
test/unit/shell_command_test.rb:126:in `test_03'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:108:in `block (3 levels) in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:205:in `capture_exceptions'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:105:in `block (2 levels) in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:256:in `time_it'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:104:in `block in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:334:in `on_signal'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:276:in `with_info_handler'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:103:in `run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:781:in `run_one_method'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:308:in `run_one_method'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:296:in `block (2 levels) in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:295:in `each'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:295:in `block in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:334:in `on_signal'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:321:in `with_info_handler'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:294:in `run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:155:in `block in __run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:155:in `map'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:155:in `__run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:129:in `run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:56:in `block in autorun'
.Erescue exception in Shell#execute#<Errno::ENOENT: No such file or directory - cd /home/greg/Desktop/src/Open-Table-Explorer/test/unit>
/home/greg/Desktop/src/Open-Table-Explorer/app/models/shell_command.rb:88:in `execute'
/home/greg/Desktop/src/Open-Table-Explorer/app/models/shell_command.rb:117:in `initialize'
test/unit/shell_command_test.rb:134:in `new'
test/unit/shell_command_test.rb:134:in `test_05'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:108:in `block (3 levels) in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:205:in `capture_exceptions'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:105:in `block (2 levels) in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:256:in `time_it'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:104:in `block in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:334:in `on_signal'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:276:in `with_info_handler'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest/test.rb:103:in `run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:781:in `run_one_method'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:308:in `run_one_method'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:296:in `block (2 levels) in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:295:in `each'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:295:in `block in run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:334:in `on_signal'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:321:in `with_info_handler'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:294:in `run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:155:in `block in __run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:155:in `map'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:155:in `__run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:129:in `run'
/var/lib/gems/1.9.1/gems/minitest-5.8.1/lib/minitest.rb:56:in `block in autorun'
..$ echo "1 2;3 4"
1 2;3 4
........

Finished in 575.050468s, 0.0678 runs/s, 0.0730 assertions/s.

  1) Error:
ShellCommandsTest#test_tolerate_status_and_error_message:
NoMethodError: undefined method `assert_block' for Hello World
:ShellCommands
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/ruby_assertions.rb:245:in `assert_empty'
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/shell_command_assertions.rb:40:in `assert_post_conditions'
    test/unit/shell_command_test.rb:187:in `test_tolerate_status_and_error_message'


  2) Error:
ShellCommandsTest#test_command_on_remote:
NoMethodError: undefined method `assert_block' for #<ShellCommands:0x000000017e0f80>
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/ruby_assertions.rb:245:in `assert_empty'
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/shell_command_assertions.rb:40:in `assert_post_conditions'
    test/unit/shell_command_test.rb:44:in `test_command_on_remote'


  3) Error:
ShellCommandsTest#test_force_success:
NoMethodError: undefined method `assert_block' for Hello World
:ShellCommands
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/ruby_assertions.rb:245:in `assert_empty'
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/shell_command_assertions.rb:40:in `assert_post_conditions'
    test/unit/shell_command_test.rb:172:in `test_force_success'


  4) Error:
ShellCommandsTest#test_assert_post_conditions:
NoMethodError: undefined method `assert_block' for Hello World
:ShellCommands
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/ruby_assertions.rb:245:in `assert_empty'
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/shell_command_assertions.rb:40:in `assert_post_conditions'
    test/unit/shell_command_test.rb:213:in `test_assert_post_conditions'


  5) Error:
ShellCommandsTest#test_01:
NoMethodError: undefined method `assert_block' for #<ShellCommands:0x000000017b4b88>
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/ruby_assertions.rb:245:in `assert_empty'
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/shell_command_assertions.rb:40:in `assert_post_conditions'
    test/unit/shell_command_test.rb:113:in `test_01'


  6) Error:
ShellCommandsTest#test_tolerate_status:
NoMethodError: undefined method `assert_block' for Hello World
:ShellCommands
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/ruby_assertions.rb:245:in `assert_empty'
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/shell_command_assertions.rb:40:in `assert_post_conditions'
    test/unit/shell_command_test.rb:179:in `test_tolerate_status'


  7) Error:
ShellCommandsTest#test_tolerate_error_pattern:
NoMethodError: undefined method `assert_block' for Hello World
:ShellCommands
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/ruby_assertions.rb:245:in `assert_empty'
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/shell_command_assertions.rb:40:in `assert_post_conditions'
    test/unit/shell_command_test.rb:183:in `test_tolerate_error_pattern'


  8) Failure:
ShellCommandsTest#test_clear_error_message [test/unit/shell_command_test.rb:164]:
Expected: 0
  Actual: true


  9) Error:
ShellCommandsTest#test_inspect:
NoMethodError: undefined method `assert_block' for Hello World
:ShellCommands
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/ruby_assertions.rb:245:in `assert_empty'
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/shell_command_assertions.rb:40:in `assert_post_conditions'
    test/unit/shell_command_test.rb:199:in `test_inspect'


 10) Failure:
ShellCommandsTest#test_success? [test/unit/shell_command_test.rb:160]:
Expected: 127
  Actual: false


 11) Error:
ShellCommandsTest#test_initialize:
NoMethodError: undefined method `assert_block' for Hello World
:ShellCommands
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/ruby_assertions.rb:245:in `assert_empty'
    /home/greg/Desktop/src/Open-Table-Explorer/test/assertions/shell_command_assertions.rb:40:in `assert_post_conditions'
    test/unit/shell_command_test.rb:79:in `test_initialize'

39 runs, 42 assertions, 2 failures, 9 errors, 0 skips

