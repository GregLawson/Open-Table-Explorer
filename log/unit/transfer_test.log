Loaded suite test/unit/transfer_test
Started
.relation.matching_methods(/to_.*/)=["to_xml", "to_sql", "to_a", "to_yaml"]
Frelation.matching_methods(/to_.*/)=["to_xml", "to_sql", "to_a", "to_yaml"]
F..E.relation.matching_methods(/to_.*/)=["to_xml", "to_sql", "to_a", "to_yaml"]
FE
Finished in 18.017018 seconds.

  1) Failure:
test_canonical(TransferTest)
    [/test/test_helper.rb:247:in `assert_include'
     test/unit/transfer_test.rb:49:in `assert_relation'
     test/unit/transfer_test.rb:121:in `test_canonical']:
:to_sql is not in list ["load_dependency", "attribute_present?", "mocha", "inspect", "to_key", "table2yaml", "updates", "singleton_class", "copy_instance_variables_from", "table_name_suffix?", "noninherited_public_class_methods", "require", "__id__", "time_zone_aware_attributes", "_partial_updates", "perform_validations", "to_yaml_properties", "decode64", "validates_presence_of", "exclude", "methods", "whoAmI", "attributes_before_type_cast", "_store_full_sti_class", "__send__", "default_timezone", "_accessible_attributes", "invalid?", "deprecated_callback_method", "html_safe?", "attribute_types_cached_by_default", "transaction_record_state", "valid?", "method", "toggle", "_touch_callbacks", "validates_acceptance_of", "_accessible_attributes=", "reset_mocha", "save", "readonly!", "singleton_methods", "nil?", "relationship", "gem", "debugger", "canonicalName", "singularTableName2", "configurations", "logical_primary_key_value", "pretty_print", "_protected_attributes", "clear_aggregation_cache", "partial_updates?", "display", "_protected_attributes=", "stubba_method", "protected_methods", "equal?", "store_full_sti_class?", "query_attribute", "_validate_callbacks", "transaction_include_action?", "_active_authorizer", "clear_association_cache", "class_eval", "changed?", "validation_context", "rollback_active_record_state!", "_save_callbacks", "require_library_or_gem", "to_matcher", "updateMaxTypeNum", "primary_key_prefix_type", "changed_attributes", "_active_authorizer=", "_accessible_attributes?", "monitor", "noninherited_public_instance_methods", "require_dependency", "Require_Table", "private_methods", "lock_optimistically", "remember_transaction_record_state", "validation_context=", "send", "attribute_method?", "eql?", "clone_attribute_value", "new_record?", "similar_methods", "errors", "as_json", "_validators", "has_attribute?", "acts_like?", "include_root_in_json", "stubba_object", "restore_transaction_record_state", "public_methods", "_validators=", "instance_eval", "delete", "destroyed?", "attribute_names", "include_root_in_json=", "type", "quoted_id", "to_json", "_create_callbacks", "adaptiveAcquisition", "nested_attributes_options", "previous_changes", "_protected_attributes?", "with_options", "table_name_prefix", "instance_exec", "changes", "instance_variables", "method_exists?", "associated_to_s", "clear_transaction_record_state", "save!", "pg_table_exists?", "_validators?", "class", "becomes", "scaffold", "column_for_attribute", "validates_with", "attributes", "table_name_suffix", "from_json", "instance_variable_get", "attributes=", "process", "try", "breakpoint", "==", "decode_b", "===", "clone", "log", "read_attribute", "connection_handler?", "silence_warnings", "mocha_inspect", "locking_enabled?", "committed!", "_update_callbacks", "pretty_print_instance_variables", "validates_confirmation_of", "pluralize_table_names", "_active_authorizer?", "pretty_print_cycle", "instance_variable_set", "to_model", "=~", "mark_for_destruction", "pretty_inspect", "dup", "update_attribute", "singularTableName", "with_warnings", "[]", "[]=", "transaction", "changed", "logger", "expects", "respond_to?", "b64encode", "unloadable", "with_transaction_returning_status", "addColumn", "respond_to_without_attributes?", "taint", "account", "enable_warnings", "column_Definitions", "persisted?", "rolledback!", "_destroy_callbacks", "account=", "instance_variable_defined?", "marked_for_destruction?", "record_timestamps", "include_root_in_json?", "run_validations!", "__metaclass__", "to_xml", "read_attribute_for_validation", "extend", "validates_exclusion_of", "changed_for_autosave?", "schema_format", "pretty_print_inspect", "destroy", "tainted?", "update_attributes!", "blank?", "stubs", "untaint", "connection_handler", "returning", "update_attributes", "mass_assignment_authorizer", "_commit_callbacks", "instance_of?", "run_callbacks", "`", "add_to_transaction", "cache_key", "_validation_callbacks", "encode64", "increment!", "present?", "skip_time_zone_conversion_for_attributes", "require_or_load", "to_yaml", "to_param", "freeze", "presence", "requireColumn", "silence_stderr", "sanitize_for_mass_assignment", "loaded_account?", "taguri", "kind_of?", "set_account_target", "timestamped_migrations", "validates_format_of", "object_id", "reload", "taguri=", "suppress_warnings", "decrement!", "unserializable_attribute?", "to_query", "addPrefix", "silence_stream", "from_xml", "_rollback_callbacks", "increment", "objectClass", "validates_length_of", "unserialize_attribute", "to_yaml_style", "is_a?", "_destroy", "build_account", "duplicable?", "tap", "matching_methods", "to_enum", "_initialize_callbacks", "frozen?", "toggle!", "require_association", "to_a", "instance_values", "sequential_id?", "attribute_for_inspect", "table_name_prefix?", "validates_size_of", "init_with", "decrement", "_one_time_conditions_valid_106?", "clone_attributes", "create_account", "callback", "store_full_sti_class", "sample", "enum_for", "__is_a__", "find_or_initialize", "validates_numericality_of", "connection", "partial_updates", "serializable_hash", "to_s", "instance_variable_names", "initFail", "suppress", "binding_n", "readonly?", "objectName", "load", "touch", "hash", "method_missing", "lock!", "read_attribute_before_type_cast", "validates_inclusion_of", "autosave_associated_records_for_account", "default_scoping", "_find_callbacks"].
<false> is not true.

  2) Failure:
test_each(TransferTest)
    [/test/test_helper.rb:247:in `assert_include'
     test/unit/transfer_test.rb:49:in `assert_relation'
     test/unit/transfer_test.rb:56:in `test_each']:
:to_sql is not in list ["load_dependency", "attribute_present?", "mocha", "inspect", "to_key", "table2yaml", "updates", "singleton_class", "copy_instance_variables_from", "table_name_suffix?", "noninherited_public_class_methods", "require", "__id__", "time_zone_aware_attributes", "_partial_updates", "perform_validations", "to_yaml_properties", "decode64", "validates_presence_of", "exclude", "methods", "whoAmI", "attributes_before_type_cast", "_store_full_sti_class", "__send__", "default_timezone", "_accessible_attributes", "invalid?", "deprecated_callback_method", "html_safe?", "attribute_types_cached_by_default", "transaction_record_state", "valid?", "method", "toggle", "_touch_callbacks", "validates_acceptance_of", "_accessible_attributes=", "reset_mocha", "save", "readonly!", "singleton_methods", "nil?", "relationship", "gem", "debugger", "canonicalName", "singularTableName2", "configurations", "logical_primary_key_value", "pretty_print", "_protected_attributes", "clear_aggregation_cache", "partial_updates?", "display", "_protected_attributes=", "stubba_method", "protected_methods", "equal?", "store_full_sti_class?", "query_attribute", "_validate_callbacks", "transaction_include_action?", "_active_authorizer", "clear_association_cache", "class_eval", "changed?", "validation_context", "rollback_active_record_state!", "_save_callbacks", "require_library_or_gem", "to_matcher", "updateMaxTypeNum", "primary_key_prefix_type", "changed_attributes", "_active_authorizer=", "_accessible_attributes?", "monitor", "noninherited_public_instance_methods", "require_dependency", "Require_Table", "private_methods", "lock_optimistically", "remember_transaction_record_state", "validation_context=", "send", "attribute_method?", "eql?", "clone_attribute_value", "new_record?", "similar_methods", "errors", "as_json", "_validators", "has_attribute?", "acts_like?", "include_root_in_json", "stubba_object", "restore_transaction_record_state", "public_methods", "_validators=", "instance_eval", "delete", "destroyed?", "attribute_names", "include_root_in_json=", "type", "quoted_id", "to_json", "_create_callbacks", "adaptiveAcquisition", "nested_attributes_options", "previous_changes", "_protected_attributes?", "with_options", "table_name_prefix", "instance_exec", "changes", "instance_variables", "method_exists?", "associated_to_s", "clear_transaction_record_state", "save!", "pg_table_exists?", "_validators?", "class", "becomes", "scaffold", "column_for_attribute", "validates_with", "attributes", "table_name_suffix", "from_json", "instance_variable_get", "attributes=", "process", "try", "breakpoint", "==", "decode_b", "===", "clone", "log", "read_attribute", "connection_handler?", "silence_warnings", "mocha_inspect", "locking_enabled?", "committed!", "_update_callbacks", "pretty_print_instance_variables", "validates_confirmation_of", "pluralize_table_names", "_active_authorizer?", "pretty_print_cycle", "instance_variable_set", "to_model", "=~", "mark_for_destruction", "pretty_inspect", "dup", "update_attribute", "singularTableName", "with_warnings", "[]", "[]=", "transaction", "changed", "logger", "expects", "respond_to?", "b64encode", "unloadable", "with_transaction_returning_status", "addColumn", "respond_to_without_attributes?", "taint", "account", "enable_warnings", "column_Definitions", "persisted?", "rolledback!", "_destroy_callbacks", "account=", "instance_variable_defined?", "marked_for_destruction?", "record_timestamps", "include_root_in_json?", "run_validations!", "__metaclass__", "to_xml", "read_attribute_for_validation", "extend", "validates_exclusion_of", "changed_for_autosave?", "schema_format", "pretty_print_inspect", "destroy", "tainted?", "update_attributes!", "blank?", "stubs", "untaint", "connection_handler", "returning", "update_attributes", "mass_assignment_authorizer", "_commit_callbacks", "instance_of?", "run_callbacks", "`", "add_to_transaction", "cache_key", "_validation_callbacks", "encode64", "increment!", "present?", "skip_time_zone_conversion_for_attributes", "require_or_load", "to_yaml", "to_param", "freeze", "presence", "requireColumn", "silence_stderr", "sanitize_for_mass_assignment", "loaded_account?", "taguri", "kind_of?", "set_account_target", "timestamped_migrations", "validates_format_of", "object_id", "reload", "taguri=", "suppress_warnings", "decrement!", "unserializable_attribute?", "to_query", "addPrefix", "silence_stream", "from_xml", "_rollback_callbacks", "increment", "objectClass", "validates_length_of", "unserialize_attribute", "to_yaml_style", "is_a?", "_destroy", "build_account", "duplicable?", "tap", "matching_methods", "to_enum", "_initialize_callbacks", "frozen?", "toggle!", "require_association", "to_a", "instance_values", "sequential_id?", "attribute_for_inspect", "table_name_prefix?", "validates_size_of", "init_with", "decrement", "_one_time_conditions_valid_106?", "clone_attributes", "create_account", "callback", "store_full_sti_class", "sample", "enum_for", "__is_a__", "find_or_initialize", "validates_numericality_of", "connection", "partial_updates", "serializable_hash", "to_s", "instance_variable_names", "initFail", "suppress", "binding_n", "readonly?", "objectName", "load", "touch", "hash", "method_missing", "lock!", "read_attribute_before_type_cast", "validates_inclusion_of", "autosave_associated_records_for_account", "default_scoping", "_find_callbacks"].
<false> is not true.

  3) Error:
test_join(TransferTest):
NoMethodError: You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.sum
    test/unit/transfer_test.rb:103:in `test_join'

  4) Failure:
test_relations(TransferTest)
    [/test/test_helper.rb:247:in `assert_include'
     test/unit/transfer_test.rb:49:in `assert_relation'
     test/unit/transfer_test.rb:82:in `test_relations']:
:to_sql is not in list ["load_dependency", "attribute_present?", "mocha", "inspect", "to_key", "table2yaml", "updates", "singleton_class", "copy_instance_variables_from", "table_name_suffix?", "noninherited_public_class_methods", "require", "__id__", "time_zone_aware_attributes", "_partial_updates", "perform_validations", "to_yaml_properties", "decode64", "validates_presence_of", "exclude", "methods", "whoAmI", "attributes_before_type_cast", "_store_full_sti_class", "__send__", "default_timezone", "_accessible_attributes", "invalid?", "deprecated_callback_method", "html_safe?", "attribute_types_cached_by_default", "transaction_record_state", "valid?", "method", "toggle", "_touch_callbacks", "validates_acceptance_of", "_accessible_attributes=", "reset_mocha", "save", "readonly!", "singleton_methods", "nil?", "relationship", "gem", "debugger", "canonicalName", "singularTableName2", "configurations", "logical_primary_key_value", "pretty_print", "_protected_attributes", "clear_aggregation_cache", "partial_updates?", "display", "_protected_attributes=", "stubba_method", "protected_methods", "equal?", "store_full_sti_class?", "query_attribute", "_validate_callbacks", "transaction_include_action?", "_active_authorizer", "clear_association_cache", "class_eval", "changed?", "validation_context", "rollback_active_record_state!", "_save_callbacks", "require_library_or_gem", "to_matcher", "updateMaxTypeNum", "primary_key_prefix_type", "changed_attributes", "_active_authorizer=", "_accessible_attributes?", "monitor", "noninherited_public_instance_methods", "require_dependency", "Require_Table", "private_methods", "lock_optimistically", "remember_transaction_record_state", "validation_context=", "send", "attribute_method?", "eql?", "clone_attribute_value", "new_record?", "similar_methods", "errors", "as_json", "_validators", "has_attribute?", "acts_like?", "include_root_in_json", "stubba_object", "restore_transaction_record_state", "public_methods", "_validators=", "instance_eval", "delete", "destroyed?", "attribute_names", "include_root_in_json=", "type", "quoted_id", "to_json", "_create_callbacks", "adaptiveAcquisition", "nested_attributes_options", "previous_changes", "_protected_attributes?", "with_options", "table_name_prefix", "instance_exec", "changes", "instance_variables", "method_exists?", "associated_to_s", "clear_transaction_record_state", "save!", "pg_table_exists?", "_validators?", "class", "becomes", "scaffold", "column_for_attribute", "validates_with", "attributes", "table_name_suffix", "from_json", "instance_variable_get", "attributes=", "process", "try", "breakpoint", "==", "decode_b", "===", "clone", "log", "read_attribute", "connection_handler?", "silence_warnings", "mocha_inspect", "locking_enabled?", "committed!", "_update_callbacks", "pretty_print_instance_variables", "validates_confirmation_of", "pluralize_table_names", "_active_authorizer?", "pretty_print_cycle", "instance_variable_set", "to_model", "=~", "mark_for_destruction", "pretty_inspect", "dup", "update_attribute", "singularTableName", "with_warnings", "[]", "[]=", "transaction", "changed", "logger", "expects", "respond_to?", "b64encode", "unloadable", "with_transaction_returning_status", "addColumn", "respond_to_without_attributes?", "taint", "account", "enable_warnings", "column_Definitions", "persisted?", "rolledback!", "_destroy_callbacks", "account=", "instance_variable_defined?", "marked_for_destruction?", "record_timestamps", "include_root_in_json?", "run_validations!", "__metaclass__", "to_xml", "read_attribute_for_validation", "extend", "validates_exclusion_of", "changed_for_autosave?", "schema_format", "pretty_print_inspect", "destroy", "tainted?", "update_attributes!", "blank?", "stubs", "untaint", "connection_handler", "returning", "update_attributes", "mass_assignment_authorizer", "_commit_callbacks", "instance_of?", "run_callbacks", "`", "add_to_transaction", "cache_key", "_validation_callbacks", "encode64", "increment!", "present?", "skip_time_zone_conversion_for_attributes", "require_or_load", "to_yaml", "to_param", "freeze", "presence", "requireColumn", "silence_stderr", "sanitize_for_mass_assignment", "loaded_account?", "taguri", "kind_of?", "set_account_target", "timestamped_migrations", "validates_format_of", "object_id", "reload", "taguri=", "suppress_warnings", "decrement!", "unserializable_attribute?", "to_query", "addPrefix", "silence_stream", "from_xml", "_rollback_callbacks", "increment", "objectClass", "validates_length_of", "unserialize_attribute", "to_yaml_style", "is_a?", "_destroy", "build_account", "duplicable?", "tap", "matching_methods", "to_enum", "_initialize_callbacks", "frozen?", "toggle!", "require_association", "to_a", "instance_values", "sequential_id?", "attribute_for_inspect", "table_name_prefix?", "validates_size_of", "init_with", "decrement", "_one_time_conditions_valid_106?", "clone_attributes", "create_account", "callback", "store_full_sti_class", "sample", "enum_for", "__is_a__", "find_or_initialize", "validates_numericality_of", "connection", "partial_updates", "serializable_hash", "to_s", "instance_variable_names", "initFail", "suppress", "binding_n", "readonly?", "objectName", "load", "touch", "hash", "method_missing", "lock!", "read_attribute_before_type_cast", "validates_inclusion_of", "autosave_associated_records_for_account", "default_scoping", "_find_callbacks"].
<false> is not true.

  5) Error:
test_stable_and_working(TransferTest):
TypeError: Cannot visit Account
    app/models/global.rb:81:in `canonicalName'
    /test/test_helper.rb:52:in `explain_assert_respond_to'
    test/unit/transfer_test.rb:69:in `test_stable_and_working'

9 tests, 13094 assertions, 3 failures, 2 errors
