<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Generic_Table::ClassMethods
  
    &mdash; Documentation by YARD 0.8.7.2
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Generic_Table.html" title="Generic_Table (module)">Generic_Table</a></span></span>
     &raquo; 
    <span class="title">ClassMethods</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: Generic_Table::ClassMethods
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
      <dt class="r1">Includes:</dt>
      <dd class="r1"><span class='object_link'><a href="../ColumnGroup/ClassMethods.html" title="ColumnGroup::ClassMethods (module)">ColumnGroup::ClassMethods</a></span>, <span class='object_link'><a href="../GenericGrep/ClassMethods.html" title="GenericGrep::ClassMethods (module)">GenericGrep::ClassMethods</a></span>, <span class='object_link'><a href="../GenericTableHtml/ClassMethods.html" title="GenericTableHtml::ClassMethods (module)">GenericTableHtml::ClassMethods</a></span></dd>
      
    
  
  
    <dt class="r2">Included in:</dt>
    <dd class="r2"><span class='object_link'><a href="../ActiveRecord/Base.html" title="ActiveRecord::Base (class)">ActiveRecord::Base</a></span>, <span class='object_link'><a href="../Bug.html" title="Bug (class)">Bug</a></span>, <span class='object_link'><a href="../Eeg.html" title="Eeg (class)">Eeg</a></span>, <span class='object_link'><a href="../Generic_Table.html" title="Generic_Table (module)">Generic_Table</a></span>, <span class='object_link'><a href="../NoDB.html" title="NoDB (module)">NoDB</a></span>, <span class='object_link'><a href="../NoDB/ClassMethods.html" title="NoDB::ClassMethods (module)">NoDB::ClassMethods</a></span></dd>
    
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">app/models/generic_table.rb</dd>
  
</dl>
<div class="clear"></div>


  <h2>Constant Summary</h2>
  



  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="../ColumnGroup/ClassMethods.html" title="ColumnGroup::ClassMethods (module)">ColumnGroup::ClassMethods</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../ColumnGroup/ClassMethods.html#History_columns-constant" title="ColumnGroup::ClassMethods::History_columns (constant)">ColumnGroup::ClassMethods::History_columns</a></span></p>

  
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="../GenericGrep/ClassMethods.html" title="GenericGrep::ClassMethods (module)">GenericGrep::ClassMethods</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../GenericGrep/ClassMethods.html#ASSOCIATION_MACRO_LETTERS-constant" title="GenericGrep::ClassMethods::ASSOCIATION_MACRO_LETTERS (constant)">GenericGrep::ClassMethods::ASSOCIATION_MACRO_LETTERS</a></span>, <span class='object_link'><a href="../GenericGrep/ClassMethods.html#ASSOCIATION_MACRO_PATTERN-constant" title="GenericGrep::ClassMethods::ASSOCIATION_MACRO_PATTERN (constant)">GenericGrep::ClassMethods::ASSOCIATION_MACRO_PATTERN</a></span></p>





  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_active_record_method%3F-instance_method" title="#is_active_record_method? (instance method)">- (Boolean) <strong>is_active_record_method?</strong>(method_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>To detect collisions between attributes as methods and ActiveRecord
methods.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#model_file_name-instance_method" title="#model_file_name (instance method)">- (Object) <strong>model_file_name</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>sample.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#nesting-instance_method" title="#nesting (instance method)">- (Object) <strong>nesting</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#one_pass_statistics-instance_method" title="#one_pass_statistics (instance method)">- (Object) <strong>one_pass_statistics</strong>(column_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether primay logical key has been overridden  or
ActiveRecord::Base.logical_primary_key is used.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sample-instance_method" title="#sample (instance method)">- (Object) <strong>sample</strong>(samples_wanted = 100, sample_type = :first, consecutive = 1) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>return a statified or random sample returns a nested array of sample
records Usually you will want sample.flatten The nested structure is
available for plotting (say different colors) to see locality and trends.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sample_burst-instance_method" title="#sample_burst (instance method)">- (Object) <strong>sample_burst</strong>(sample_type, start, spacing, consecutive) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>nesting.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../ColumnGroup/ClassMethods.html" title="ColumnGroup::ClassMethods (module)">ColumnGroup::ClassMethods</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../ColumnGroup/ClassMethods.html#attribute_ddl-instance_method" title="ColumnGroup::ClassMethods#attribute_ddl (method)">#attribute_ddl</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#attribute_rails_type-instance_method" title="ColumnGroup::ClassMethods#attribute_rails_type (method)">#attribute_rails_type</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#attribute_ruby_type-instance_method" title="ColumnGroup::ClassMethods#attribute_ruby_type (method)">#attribute_ruby_type</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#candidate_logical_keys_from_indexes-instance_method" title="ColumnGroup::ClassMethods#candidate_logical_keys_from_indexes (method)">#candidate_logical_keys_from_indexes</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#categorical%3F-instance_method" title="ColumnGroup::ClassMethods#categorical? (method)">#categorical?</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#column_symbols-instance_method" title="ColumnGroup::ClassMethods#column_symbols (method)">#column_symbols</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#default_logical_primary_key-instance_method" title="ColumnGroup::ClassMethods#default_logical_primary_key (method)">#default_logical_primary_key</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#defaulted_primary_logical_key%3F-instance_method" title="ColumnGroup::ClassMethods#defaulted_primary_logical_key? (method)">#defaulted_primary_logical_key?</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#history_type%3F-instance_method" title="ColumnGroup::ClassMethods#history_type? (method)">#history_type?</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#is_logical_primary_key%3F-instance_method" title="ColumnGroup::ClassMethods#is_logical_primary_key? (method)">#is_logical_primary_key?</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#logical_attributes-instance_method" title="ColumnGroup::ClassMethods#logical_attributes (method)">#logical_attributes</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#logical_primary_key-instance_method" title="ColumnGroup::ClassMethods#logical_primary_key (method)">#logical_primary_key</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#logical_primary_key_recursive-instance_method" title="ColumnGroup::ClassMethods#logical_primary_key_recursive (method)">#logical_primary_key_recursive</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#numerical%3F-instance_method" title="ColumnGroup::ClassMethods#numerical? (method)">#numerical?</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#probably_categorical%3F-instance_method" title="ColumnGroup::ClassMethods#probably_categorical? (method)">#probably_categorical?</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#probably_numerical%3F-instance_method" title="ColumnGroup::ClassMethods#probably_numerical? (method)">#probably_numerical?</a></span>, <span class='object_link'><a href="../ColumnGroup/ClassMethods.html#sequential_id%3F-instance_method" title="ColumnGroup::ClassMethods#sequential_id? (method)">#sequential_id?</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../GenericGrep/ClassMethods.html" title="GenericGrep::ClassMethods (module)">GenericGrep::ClassMethods</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../GenericGrep/ClassMethods.html#all_associations-instance_method" title="GenericGrep::ClassMethods#all_associations (method)">#all_associations</a></span>, <span class='object_link'><a href="../GenericGrep/ClassMethods.html#association_grep-instance_method" title="GenericGrep::ClassMethods#association_grep (method)">#association_grep</a></span>, <span class='object_link'><a href="../GenericGrep/ClassMethods.html#association_grep_pattern-instance_method" title="GenericGrep::ClassMethods#association_grep_pattern (method)">#association_grep_pattern</a></span>, <span class='object_link'><a href="../GenericGrep/ClassMethods.html#association_macro_type-instance_method" title="GenericGrep::ClassMethods#association_macro_type (method)">#association_macro_type</a></span>, <span class='object_link'><a href="../GenericGrep/ClassMethods.html#association_type-instance_method" title="GenericGrep::ClassMethods#association_type (method)">#association_type</a></span>, <span class='object_link'><a href="../GenericGrep/ClassMethods.html#belongs_to_association%3F-instance_method" title="GenericGrep::ClassMethods#belongs_to_association? (method)">#belongs_to_association?</a></span>, <span class='object_link'><a href="../GenericGrep/ClassMethods.html#grep_all_associations_command-instance_method" title="GenericGrep::ClassMethods#grep_all_associations_command (method)">#grep_all_associations_command</a></span>, <span class='object_link'><a href="../GenericGrep/ClassMethods.html#grep_command-instance_method" title="GenericGrep::ClassMethods#grep_command (method)">#grep_command</a></span>, <span class='object_link'><a href="../GenericGrep/ClassMethods.html#has_many_association%3F-instance_method" title="GenericGrep::ClassMethods#has_many_association? (method)">#has_many_association?</a></span>, <span class='object_link'><a href="../GenericGrep/ClassMethods.html#has_one_association%3F-instance_method" title="GenericGrep::ClassMethods#has_one_association? (method)">#has_one_association?</a></span>, <span class='object_link'><a href="../GenericGrep/ClassMethods.html#model_grep-instance_method" title="GenericGrep::ClassMethods#model_grep (method)">#model_grep</a></span>, <span class='object_link'><a href="../GenericGrep/ClassMethods.html#model_grep_command-instance_method" title="GenericGrep::ClassMethods#model_grep_command (method)">#model_grep_command</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../GenericTableHtml/ClassMethods.html" title="GenericTableHtml::ClassMethods (module)">GenericTableHtml::ClassMethods</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../GenericTableHtml/ClassMethods.html#column_order-instance_method" title="GenericTableHtml::ClassMethods#column_order (method)">#column_order</a></span>, <span class='object_link'><a href="../GenericTableHtml/ClassMethods.html#header_html-instance_method" title="GenericTableHtml::ClassMethods#header_html (method)">#header_html</a></span>, <span class='object_link'><a href="../GenericTableHtml/ClassMethods.html#table_html-instance_method" title="GenericTableHtml::ClassMethods#table_html (method)">#table_html</a></span></p>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="is_active_record_method?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>is_active_record_method?</strong>(method_name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>To detect collisions between attributes as methods and ActiveRecord
methods.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


136
137
138
139
140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/generic_table.rb', line 136</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_active_record_method?'>is_active_record_method?</span><span class='lparen'>(</span><span class='id identifier rubyid_method_name'>method_name</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span><span class='period'>.</span><span class='id identifier rubyid_instance_methods_from_class'>instance_methods_from_class</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_method_name'>method_name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span> <span class='kw'>then</span>
		<span class='kw'>return</span> <span class='kw'>true</span>
	<span class='kw'>else</span>
		<span class='kw'>return</span> <span class='kw'>false</span>
	<span class='kw'>end</span> <span class='comment'>#if
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="model_file_name-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>model_file_name</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>sample</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


60
61
62</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/generic_table.rb', line 60</span>

<span class='kw'>def</span> <span class='id identifier rubyid_model_file_name'>model_file_name</span>
	<span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>app/models/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_tableize'>tableize</span><span class='period'>.</span><span class='id identifier rubyid_singularize'>singularize</span><span class='rbrace'>}</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="nesting-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>nesting</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/generic_table.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_nesting'>nesting</span>
	<span class='kw'>return</span> <span class='const'>Module</span><span class='period'>.</span><span class='id identifier rubyid_nesting'>nesting</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="one_pass_statistics-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>one_pass_statistics</strong>(column_name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether primay logical key has been overridden  or
ActiveRecord::Base.logical_primary_key is used. nil returned if overridden.
true returned otherwise. from <a
href="http://en.wikipedia.org/wiki/Algorithms_for_calculating_variance">en.wikipedia.org/wiki/Algorithms_for_calculating_variance</a>
Skewness is defined at <a
href="http://en.wikipedia.org/wiki/Skewness">en.wikipedia.org/wiki/Skewness</a>
kurtosis is defined at <a
href="http://en.wikipedia.org/wiki/Kurtosis">en.wikipedia.org/wiki/Kurtosis</a></p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/generic_table.rb', line 70</span>

<span class='kw'>def</span> <span class='id identifier rubyid_one_pass_statistics'>one_pass_statistics</span><span class='lparen'>(</span><span class='id identifier rubyid_column_name'>column_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_mean'>mean</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_m2'>m2</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_m3'>m3</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_m4'>m4</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_min'>min</span><span class='op'>=</span><span class='kw'>nil</span><span class='semicolon'>;</span> <span class='id identifier rubyid_max'>max</span><span class='op'>=</span><span class='kw'>nil</span>
	<span class='id identifier rubyid_max_key'>max_key</span><span class='comma'>,</span> <span class='id identifier rubyid_min_key'>min_key</span> <span class='op'>=</span> <span class='kw'>nil</span> <span class='comment'># declare scope outside loop!
</span>    <span class='id identifier rubyid_has_id'>has_id</span><span class='op'>=</span><span class='id identifier rubyid_column_names'>column_names</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>id</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_all'>all</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_row'>row</span><span class='op'>|</span>
        <span class='id identifier rubyid_x'>x</span><span class='op'>=</span><span class='id identifier rubyid_row'>row</span><span class='lbracket'>[</span><span class='id identifier rubyid_column_name'>column_name</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_n1'>n1</span> <span class='op'>=</span> <span class='id identifier rubyid_n'>n</span>
        <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>+</span> <span class='int'>1</span>
        <span class='id identifier rubyid_delta'>delta</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>-</span> <span class='id identifier rubyid_mean'>mean</span>
        <span class='id identifier rubyid_delta_n'>delta_n</span> <span class='op'>=</span> <span class='id identifier rubyid_delta'>delta</span> <span class='op'>/</span> <span class='id identifier rubyid_n'>n</span>
        <span class='id identifier rubyid_delta_n2'>delta_n2</span> <span class='op'>=</span> <span class='id identifier rubyid_delta_n'>delta_n</span> <span class='op'>*</span> <span class='id identifier rubyid_delta_n'>delta_n</span>
        <span class='id identifier rubyid_term1'>term1</span> <span class='op'>=</span> <span class='id identifier rubyid_delta'>delta</span> <span class='op'>*</span> <span class='id identifier rubyid_delta_n'>delta_n</span> <span class='op'>*</span> <span class='id identifier rubyid_n1'>n1</span>
        <span class='id identifier rubyid_mean'>mean</span> <span class='op'>=</span> <span class='id identifier rubyid_mean'>mean</span> <span class='op'>+</span> <span class='id identifier rubyid_delta_n'>delta_n</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span><span class='op'>==</span><span class='int'>1</span> <span class='kw'>then</span>
	    <span class='id identifier rubyid_min'>min</span><span class='op'>=</span><span class='id identifier rubyid_x'>x</span> <span class='comment'># value for nil
</span>	    <span class='id identifier rubyid_max'>max</span><span class='op'>=</span><span class='id identifier rubyid_x'>x</span> <span class='comment'># value for nil
</span>	    <span class='kw'>if</span> <span class='id identifier rubyid_has_id'>has_id</span> <span class='kw'>then</span>
		    <span class='id identifier rubyid_min_key'>min_key</span><span class='op'>=</span><span class='id identifier rubyid_row'>row</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
		    <span class='id identifier rubyid_max_key'>max_key</span><span class='op'>=</span><span class='id identifier rubyid_row'>row</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
	    <span class='kw'>else</span>
		    <span class='id identifier rubyid_min_key'>min_key</span><span class='op'>=</span><span class='id identifier rubyid_row'>row</span><span class='period'>.</span><span class='id identifier rubyid_logical_primary_key_value_recursive'>logical_primary_key_value_recursive</span>
		    <span class='id identifier rubyid_max_key'>max_key</span><span class='op'>=</span><span class='id identifier rubyid_row'>row</span><span class='period'>.</span><span class='id identifier rubyid_logical_primary_key_value_recursive'>logical_primary_key_value_recursive</span>
	    <span class='kw'>end</span> <span class='comment'>#if
</span>	<span class='kw'>else</span>
            <span class='id identifier rubyid_m4'>m4</span> <span class='op'>=</span> <span class='id identifier rubyid_m4'>m4</span> <span class='op'>+</span> <span class='id identifier rubyid_term1'>term1</span> <span class='op'>*</span> <span class='id identifier rubyid_delta_n2'>delta_n2</span> <span class='op'>*</span> <span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='op'>*</span><span class='id identifier rubyid_n'>n</span> <span class='op'>-</span> <span class='int'>3</span><span class='op'>*</span><span class='id identifier rubyid_n'>n</span> <span class='op'>+</span> <span class='int'>3</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='int'>6</span> <span class='op'>*</span> <span class='id identifier rubyid_delta_n2'>delta_n2</span> <span class='op'>*</span> <span class='id identifier rubyid_m2'>m2</span> <span class='op'>-</span> <span class='int'>4</span> <span class='op'>*</span> <span class='id identifier rubyid_delta_n'>delta_n</span> <span class='op'>*</span> <span class='id identifier rubyid_m3'>m3</span>
            <span class='id identifier rubyid_m3'>m3</span> <span class='op'>=</span> <span class='id identifier rubyid_m3'>m3</span> <span class='op'>+</span> <span class='id identifier rubyid_term1'>term1</span> <span class='op'>*</span> <span class='id identifier rubyid_delta_n'>delta_n</span> <span class='op'>*</span> <span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span> <span class='op'>-</span> <span class='int'>2</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='int'>3</span> <span class='op'>*</span> <span class='id identifier rubyid_delta_n'>delta_n</span> <span class='op'>*</span> <span class='id identifier rubyid_m2'>m2</span>
            <span class='id identifier rubyid_m2'>m2</span> <span class='op'>=</span> <span class='id identifier rubyid_m2'>m2</span> <span class='op'>+</span> <span class='id identifier rubyid_delta'>delta</span><span class='op'>*</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span> <span class='op'>-</span> <span class='id identifier rubyid_mean'>mean</span><span class='rparen'>)</span>
	    <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span><span class='op'>&lt;</span><span class='id identifier rubyid_min'>min</span> <span class='kw'>then</span>
	    	<span class='id identifier rubyid_min'>min</span><span class='op'>=</span><span class='id identifier rubyid_x'>x</span>
		<span class='kw'>if</span> <span class='id identifier rubyid_has_id'>has_id</span> <span class='kw'>then</span>
		    <span class='id identifier rubyid_min_key'>min_key</span><span class='op'>=</span><span class='id identifier rubyid_row'>row</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
	    	<span class='kw'>else</span>
		    <span class='id identifier rubyid_min_key'>min_key</span><span class='op'>=</span><span class='id identifier rubyid_row'>row</span><span class='period'>.</span><span class='id identifier rubyid_logical_primary_key_value_recursive'>logical_primary_key_value_recursive</span>
	    	<span class='kw'>end</span> <span class='comment'>#if
</span>	    <span class='kw'>end</span> <span class='comment'>#if  # value for not nil
</span>	    <span class='kw'>if</span> <span class='id identifier rubyid_x'>x</span><span class='op'>&gt;</span><span class='id identifier rubyid_max'>max</span> <span class='kw'>then</span>
	    	<span class='id identifier rubyid_max'>max</span><span class='op'>=</span><span class='id identifier rubyid_x'>x</span>
		<span class='kw'>if</span> <span class='id identifier rubyid_has_id'>has_id</span> <span class='kw'>then</span>
			<span class='id identifier rubyid_max_key'>max_key</span><span class='op'>=</span><span class='id identifier rubyid_row'>row</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_max_key'>max_key</span><span class='op'>=</span><span class='id identifier rubyid_row'>row</span><span class='period'>.</span><span class='id identifier rubyid_logical_primary_key_value_recursive'>logical_primary_key_value_recursive</span>
		<span class='kw'>end</span> <span class='comment'>#if
</span>	    <span class='kw'>end</span> <span class='comment'>#if  # value for not nil
</span>	<span class='kw'>end</span> <span class='comment'>#if
</span>    <span class='kw'>end</span> <span class='comment'>#each
</span>    <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span><span class='op'>==</span><span class='int'>0</span>
    <span class='lbrace'>{</span>
    <span class='symbol'>:n</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_n'>n</span><span class='comma'>,</span>
    <span class='symbol'>:variance_n</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_m2'>m2</span><span class='op'>/</span><span class='id identifier rubyid_n'>n</span><span class='comma'>,</span>
    <span class='symbol'>:variance</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_m2'>m2</span><span class='op'>/</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span> <span class='op'>-</span> <span class='int'>1</span><span class='rparen'>)</span><span class='comma'>,</span> 
    <span class='symbol'>:skewness</span><span class='op'>=&gt;</span> <span class='const'>Math</span><span class='op'>::</span><span class='id identifier rubyid_sqrt'>sqrt</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_m3'>m3</span><span class='op'>/</span><span class='lparen'>(</span><span class='id identifier rubyid_m2'>m2</span><span class='op'>**</span><span class='lparen'>(</span><span class='int'>3</span><span class='op'>/</span><span class='int'>2</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='symbol'>:kurtosis</span> <span class='op'>=&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='op'>*</span><span class='id identifier rubyid_m4'>m4</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='lparen'>(</span><span class='id identifier rubyid_m2'>m2</span><span class='op'>*</span><span class='id identifier rubyid_m2'>m2</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='int'>3</span><span class='comma'>,</span>
    <span class='symbol'>:min</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_min'>min</span><span class='comma'>,</span>
    <span class='symbol'>:min_key</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_min_key'>min_key</span><span class='comma'>,</span>
    <span class='symbol'>:mean</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_mean'>mean</span><span class='comma'>,</span>
    <span class='symbol'>:max</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_max'>max</span><span class='comma'>,</span>
    <span class='symbol'>:max_key</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_max_key'>max_key</span><span class='comma'>,</span>
    <span class='symbol'>:has_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_has_id'>has_id</span>
    <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sample-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>sample</strong>(samples_wanted = 100, sample_type = :first, consecutive = 1) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>return a statified or random sample returns a nested array of sample
records Usually you will want sample.flatten The nested structure is
available for plotting (say different colors) to see locality and trends.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/generic_table.rb', line 41</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sample'>sample</span><span class='lparen'>(</span><span class='id identifier rubyid_samples_wanted'>samples_wanted</span><span class='op'>=</span><span class='int'>100</span><span class='comma'>,</span> <span class='id identifier rubyid_sample_type'>sample_type</span><span class='op'>=</span><span class='symbol'>:first</span><span class='comma'>,</span> <span class='id identifier rubyid_consecutive'>consecutive</span><span class='op'>=</span><span class='int'>1</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_size'>size</span><span class='op'>=</span><span class='id identifier rubyid_all'>all</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
	<span class='id identifier rubyid_samples_returned'>samples_returned</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid_samples_wanted'>samples_wanted</span><span class='comma'>,</span> <span class='id identifier rubyid_size'>size</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
	<span class='id identifier rubyid_bursts'>bursts</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_samples_returned'>samples_returned</span><span class='op'>/</span><span class='id identifier rubyid_consecutive'>consecutive</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ceil'>ceil</span>
	<span class='id identifier rubyid_spacing'>spacing</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_size'>size</span><span class='op'>/</span><span class='id identifier rubyid_bursts'>bursts</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ceil'>ceil</span>
	<span class='id identifier rubyid_ret'>ret</span><span class='op'>=</span><span class='lparen'>(</span><span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_bursts'>bursts</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_burst'>burst</span><span class='op'>|</span>
		<span class='id identifier rubyid_burst_start'>burst_start</span><span class='op'>=</span><span class='id identifier rubyid_burst'>burst</span><span class='op'>*</span><span class='id identifier rubyid_spacing'>spacing</span>
		<span class='kw'>case</span> <span class='id identifier rubyid_sample_type'>sample_type</span>
		<span class='kw'>when</span> <span class='symbol'>:first</span><span class='comma'>,</span> <span class='symbol'>:last</span>
			<span class='id identifier rubyid_sample_burst'>sample_burst</span><span class='lparen'>(</span><span class='id identifier rubyid_sample_type'>sample_type</span><span class='comma'>,</span> <span class='id identifier rubyid_burst_start'>burst_start</span><span class='comma'>,</span> <span class='id identifier rubyid_spacing'>spacing</span><span class='comma'>,</span> <span class='id identifier rubyid_consecutive'>consecutive</span><span class='rparen'>)</span>
		<span class='kw'>when</span> <span class='symbol'>:random</span>
			<span class='id identifier rubyid_burst_start'>burst_start</span><span class='op'>=</span><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='id identifier rubyid_samples_returned'>samples_returned</span><span class='rparen'>)</span>
			<span class='id identifier rubyid_sample_burst'>sample_burst</span><span class='lparen'>(</span><span class='id identifier rubyid_sample_type'>sample_type</span><span class='comma'>,</span> <span class='id identifier rubyid_burst_start'>burst_start</span><span class='comma'>,</span> <span class='id identifier rubyid_spacing'>spacing</span><span class='comma'>,</span> <span class='id identifier rubyid_consecutive'>consecutive</span><span class='rparen'>)</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown sample type=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sample_type'>sample_type</span><span class='rbrace'>}</span><span class='tstring_content'>. Expected values are :first, :random, :last</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>end</span> <span class='comment'>#case
</span>	<span class='kw'>end</span> <span class='comment'>#map burst
</span>	<span class='kw'>return</span> <span class='id identifier rubyid_ret'>ret</span> <span class='comment'>#[0..samples_returned-1]
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sample_burst-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>sample_burst</strong>(sample_type, start, spacing, consecutive) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>nesting</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


24
25
26
27
28
29
30
31
32
33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/generic_table.rb', line 24</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sample_burst'>sample_burst</span><span class='lparen'>(</span><span class='id identifier rubyid_sample_type'>sample_type</span><span class='comma'>,</span> <span class='id identifier rubyid_start'>start</span><span class='comma'>,</span> <span class='id identifier rubyid_spacing'>spacing</span><span class='comma'>,</span> <span class='id identifier rubyid_consecutive'>consecutive</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_consecutive'>consecutive</span><span class='op'>&gt;</span><span class='id identifier rubyid_spacing'>spacing</span> <span class='kw'>then</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>consecutive(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_consecutive'>consecutive</span><span class='rbrace'>}</span><span class='tstring_content'>)&gt;spacing(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_spacing'>spacing</span><span class='rbrace'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>end</span> <span class='comment'>#if
</span>	<span class='kw'>case</span> <span class='id identifier rubyid_sample_type'>sample_type</span>
	<span class='kw'>when</span> <span class='symbol'>:first</span><span class='comma'>,</span> <span class='symbol'>:random</span>
		<span class='kw'>return</span> <span class='id identifier rubyid_all'>all</span><span class='lbracket'>[</span><span class='id identifier rubyid_start'>start</span><span class='comma'>,</span> <span class='id identifier rubyid_consecutive'>consecutive</span><span class='rbracket'>]</span>
	<span class='kw'>when</span> <span class='symbol'>:last</span>
		<span class='kw'>return</span> <span class='id identifier rubyid_all'>all</span><span class='lbracket'>[</span><span class='id identifier rubyid_start'>start</span><span class='op'>+</span><span class='id identifier rubyid_spacing'>spacing</span><span class='op'>-</span><span class='id identifier rubyid_consecutive'>consecutive</span><span class='comma'>,</span> <span class='id identifier rubyid_consecutive'>consecutive</span><span class='rbracket'>]</span>
	<span class='kw'>else</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown sample type=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sample_type'>sample_type</span><span class='rbrace'>}</span><span class='tstring_content'>. Expected values are :first, :Last.</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>end</span> <span class='comment'>#case
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Oct 18 09:13:17 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.2 (ruby-1.9.3).
</div>

  </body>
</html>