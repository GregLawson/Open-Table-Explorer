<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: RegexpRepetition
  
    &mdash; Documentation by YARD 0.8.7.2
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (R)</a> &raquo;
    
    
    <span class="title">RegexpRepetition</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: RegexpRepetition
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="RegexpTree.html" title="RegexpTree (class)">RegexpTree</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Array</li>
          
            <li class="next"><span class='object_link'><a href="NestedArray.html" title="NestedArray (class)">NestedArray</a></span></li>
          
            <li class="next"><span class='object_link'><a href="RegexpTree.html" title="RegexpTree (class)">RegexpTree</a></span></li>
          
            <li class="next">RegexpRepetition</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2">Comparable</dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">app/models/regexp_parse.rb<span class="defines">,<br />
  app/models/regexp_repetition.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Copyright (C) 2010-2012 by Greg Lawson</p>

<pre class="code ruby"><code class="ruby">&lt;GregLawson123@gmail.com&gt;</code></pre>

<p>Copyright: See COPYING file that comes with this distribution</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="RegexpRepetition/TestCases.html" title="RegexpRepetition::TestCases (class)">TestCases</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  



  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants inherited
     from <span class='object_link'><a href="RegexpTree.html" title="RegexpTree (class)">RegexpTree</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="RegexpTree.html#Ascii_characters-constant" title="RegexpTree::Ascii_characters (constant)">RegexpTree::Ascii_characters</a></span>, <span class='object_link'><a href="RegexpTree.html#Binary_bytes-constant" title="RegexpTree::Binary_bytes (constant)">RegexpTree::Binary_bytes</a></span></p>


  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#repeated_pattern-instance_method" title="#repeated_pattern (instance method)">- (Object) <strong>repeated_pattern</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute repeated_pattern.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#repetition_length-instance_method" title="#repetition_length (instance method)">- (Object) <strong>repetition_length</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute repetition_length.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%26-instance_method" title="#&amp; (instance method)">- (Object) <strong>&amp;</strong>(rhs) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>intersection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3C%3D%3E-instance_method" title="#&lt;=&gt; (instance method)">- (Object) <strong>&lt;=&gt;</strong>(rhs) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>TestCases.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#canonical_repetition_tree-instance_method" title="#canonical_repetition_tree (instance method)">- (Object) <strong>canonical_repetition_tree</strong>(min = self.repetition_length.begin, max = self.repetition_length.end) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>the useful inverse function of new.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#concise_repetition_node-instance_method" title="#concise_repetition_node (instance method)">- (Object) <strong>concise_repetition_node</strong>(min = self.repetition_length.begin, max = self.repetition_length.end) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return a RegexpTree node for self Concise means to use abbreviations like
'*', '+', " rather than the canonical n,m If no repetition returns "
equivalent to 1,1.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (RegexpRepetition) <strong>initialize</strong>(branch, min = nil, max = nil, probability_space_regexp = '[[:print:]]+', options = Default_options) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>RegexpRepetition.new(RegexpTree) RegexpRepetition.new(RegexpTree,
UnboundedRange) RegexpRepetition.new(RegexpTree, min, max) Ambiguity of nil
for third prameter: missing or infinity? Resolved by checking second
parameter for numric or Range to resolve ambiguity.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#merge_to_repetition-instance_method" title="#merge_to_repetition (instance method)">- (Object) <strong>merge_to_repetition</strong>(branch = self) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>recursive merging of consecutive identical pairs.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#probability_of_repetition-instance_method" title="#probability_of_repetition (instance method)">- (Object) <strong>probability_of_repetition</strong>(repetition, match_length = nil, branch = self) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Probability for a single matched repetitions of an alternative (single
character) Here the probability distribution is  assumed uniform across the
probability space ranges from zero for an impossible match (usually
avoided) to 1 for certain match like /.*/ (actually
RegexpRepetition::TestCases::Any is more accurate) returns nil if
indeterminate (e.g. nested repetitions) (call probability_range or
RegexpMatch#probability instead) match_length (of random characters) is
useful in unanchored cases match_length.nil?  probability (.p) of length n
I == L &amp; R then L &gt;= I &amp;&amp; R &gt;= I and L.p(n) &gt;= I.p(n)
&amp;&amp; R.p(n) &gt;= I.p(n).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#probability_range-instance_method" title="#probability_range (instance method)">- (Object) <strong>probability_range</strong>(node = self) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Probability range depending on matched length.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%7C-instance_method" title="#| (instance method)">- (Object) <strong>|</strong>(rhs) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Union.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="RegexpTree.html" title="RegexpTree (class)">RegexpTree</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="RegexpTree.html#%2B-instance_method" title="RegexpTree#+ (method)">#+</a></span>, <span class='object_link'><a href="RegexpTree.html#%5B%5D-class_method" title="RegexpTree.[] (method)">[]</a></span>, <span class='object_link'><a href="RegexpTree.html#canonical_regexp-class_method" title="RegexpTree.canonical_regexp (method)">canonical_regexp</a></span>, <span class='object_link'><a href="RegexpTree.html#canonical_regexp_tree-class_method" title="RegexpTree.canonical_regexp_tree (method)">canonical_regexp_tree</a></span>, <span class='object_link'><a href="RegexpTree.html#compare_repetitions%3F-instance_method" title="RegexpTree#compare_repetitions? (method)">#compare_repetitions?</a></span>, <span class='object_link'><a href="RegexpTree.html#probability_space_regexp-instance_method" title="RegexpTree#probability_space_regexp (method)">#probability_space_regexp</a></span>, <span class='object_link'><a href="RegexpTree.html#probability_space_size-instance_method" title="RegexpTree#probability_space_size (method)">#probability_space_size</a></span>, <span class='object_link'><a href="RegexpTree.html#promote-class_method" title="RegexpTree.promote (method)">promote</a></span>, <span class='object_link'><a href="RegexpTree.html#to_a-instance_method" title="RegexpTree#to_a (method)">#to_a</a></span>, <span class='object_link'><a href="RegexpTree.html#to_regexp-instance_method" title="RegexpTree#to_regexp (method)">#to_regexp</a></span>, <span class='object_link'><a href="RegexpTree.html#to_s-instance_method" title="RegexpTree#to_s (method)">#to_s</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="RegexpTree/ClassMethods.html" title="RegexpTree::ClassMethods (module)">RegexpTree::ClassMethods</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="RegexpTree/ClassMethods.html#promote-instance_method" title="RegexpTree::ClassMethods#promote (method)">#promote</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="NestedArray.html" title="NestedArray (class)">NestedArray</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="NestedArray.html#%5B%5D-instance_method" title="NestedArray#[] (method)">#[]</a></span>, <span class='object_link'><a href="NestedArray.html#map_branches-instance_method" title="NestedArray#map_branches (method)">#map_branches</a></span>, <span class='object_link'><a href="NestedArray.html#map_recursive-instance_method" title="NestedArray#map_recursive (method)">#map_recursive</a></span>, <span class='object_link'><a href="NestedArray.html#merge_single_element_arrays%3F-instance_method" title="NestedArray#merge_single_element_arrays? (method)">#merge_single_element_arrays?</a></span>, <span class='object_link'><a href="NestedArray.html#promote-instance_method" title="NestedArray#promote (method)">#promote</a></span>, <span class='object_link'><a href="NestedArray.html#reverse-instance_method" title="NestedArray#reverse (method)">#reverse</a></span>, <span class='object_link'><a href="NestedArray.html#to_s-instance_method" title="NestedArray#to_s (method)">#to_s</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="NestedArray/Assertions/ClassMethods.html" title="NestedArray::Assertions::ClassMethods (module)">NestedArray::Assertions::ClassMethods</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="NestedArray/Assertions/ClassMethods.html#assert_post_conditions-instance_method" title="NestedArray::Assertions::ClassMethods#assert_post_conditions (method)">#assert_post_conditions</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="NestedArray/Assertions.html" title="NestedArray::Assertions (module)">NestedArray::Assertions</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="NestedArray/Assertions.html#assert_post_conditions-instance_method" title="NestedArray::Assertions#assert_post_conditions (method)">#assert_post_conditions</a></span>, <span class='object_link'><a href="NestedArray/Assertions.html#assert_pre_conditions-instance_method" title="NestedArray::Assertions#assert_pre_conditions (method)">#assert_pre_conditions</a></span></p>

  
  
  
  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="RegexpRepetition (class)">RegexpRepetition</a></span></tt>) <strong>initialize</strong>(branch, min = nil, max = nil, probability_space_regexp = '[[:print:]]+', options = Default_options) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>RegexpRepetition.new(RegexpTree) RegexpRepetition.new(RegexpTree,
UnboundedRange) RegexpRepetition.new(RegexpTree, min, max) Ambiguity of nil
for third prameter: missing or infinity? Resolved by checking second
parameter for numric or Range to resolve ambiguity</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/regexp_repetition.rb', line 16</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_branch'>branch</span><span class='comma'>,</span> <span class='id identifier rubyid_min'>min</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_probability_space_regexp'>probability_space_regexp</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>[[:print:]]+</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='const'>Default_options</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_branch'>branch</span><span class='period'>.</span><span class='id identifier rubyid_instance_of?'>instance_of?</span><span class='lparen'>(</span><span class='const'>RegexpParse</span><span class='rparen'>)</span> <span class='kw'>then</span>
		<span class='ivar'>@repeated_pattern</span><span class='op'>=</span><span class='id identifier rubyid_branch'>branch</span><span class='period'>.</span><span class='id identifier rubyid_repeated_pattern'>repeated_pattern</span>
		<span class='ivar'>@repetition_length</span><span class='op'>=</span><span class='id identifier rubyid_branch'>branch</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span>
	<span class='kw'>else</span>
		<span class='id identifier rubyid_branch'>branch</span><span class='op'>=</span><span class='const'>RegexpRepetition</span><span class='period'>.</span><span class='id identifier rubyid_promote'>promote</span><span class='lparen'>(</span><span class='id identifier rubyid_branch'>branch</span><span class='rparen'>)</span>
	<span class='kw'>end</span> <span class='comment'>#if	
</span>	<span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_max'>max</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>then</span> <span class='comment'># all arguments provided
</span>		<span class='ivar'>@repetition_length</span><span class='op'>=</span><span class='const'>UnboundedRange</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>min must not be nil.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_min'>min</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> 
	<span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_min'>min</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>then</span> <span class='comment'># only one length argument
</span>		<span class='kw'>if</span> <span class='id identifier rubyid_min'>min</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Range</span><span class='rparen'>)</span> <span class='kw'>then</span>
			<span class='ivar'>@repetition_length</span><span class='op'>=</span><span class='id identifier rubyid_min'>min</span>
		<span class='kw'>else</span> <span class='comment'>#third parameter specified as nil/infinity
</span>			<span class='ivar'>@repetition_length</span><span class='op'>=</span><span class='const'>UnboundedRange</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span><span class='rparen'>)</span>
			<span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>min must not be nil.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_min'>min</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> 
		<span class='kw'>end</span> <span class='comment'>#if
</span>	<span class='kw'>else</span> <span class='comment'># implicit length
</span>		<span class='ivar'>@repetition_length</span><span class='op'>=</span><span class='id identifier rubyid_branch'>branch</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span>
	<span class='kw'>end</span> <span class='comment'>#if
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="repeated_pattern-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>repeated_pattern</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute repeated_pattern</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/regexp_repetition.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_repeated_pattern'>repeated_pattern</span>
  <span class='ivar'>@repeated_pattern</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="repetition_length-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>repetition_length</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute repetition_length</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/regexp_repetition.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_repetition_length'>repetition_length</span>
  <span class='ivar'>@repetition_length</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="&-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>&amp;</strong>(rhs) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>intersection. If neither is a subset of the rhs return nil</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57
58
59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/regexp_repetition.rb', line 55</span>

<span class='kw'>def</span> <span class='op'>&amp;</span><span class='lparen'>(</span><span class='id identifier rubyid_rhs'>rhs</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_lhs'>lhs</span><span class='op'>=</span><span class='kw'>self</span>
	<span class='id identifier rubyid_rhs'>rhs</span><span class='op'>=</span><span class='const'>RegexpRepetition</span><span class='period'>.</span><span class='id identifier rubyid_promote'>promote</span><span class='lparen'>(</span><span class='id identifier rubyid_rhs'>rhs</span><span class='rparen'>)</span>
 	<span class='id identifier rubyid_base'>base</span><span class='op'>=</span><span class='id identifier rubyid_lhs'>lhs</span><span class='period'>.</span><span class='id identifier rubyid_repeated_pattern'>repeated_pattern</span> <span class='op'>&amp;</span> <span class='id identifier rubyid_rhs'>rhs</span><span class='period'>.</span><span class='id identifier rubyid_repeated_pattern'>repeated_pattern</span>
 	<span class='id identifier rubyid_length'>length</span><span class='op'>=</span><span class='id identifier rubyid_lhs'>lhs</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span> <span class='op'>&amp;</span> <span class='id identifier rubyid_rhs'>rhs</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span>
	<span class='kw'>return</span> <span class='const'>RegexpRepetition</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_base'>base</span><span class='comma'>,</span> <span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="<=>-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>&lt;=&gt;</strong>(rhs) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>TestCases</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50
51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/regexp_repetition.rb', line 48</span>

<span class='kw'>def</span> <span class='op'>&lt;=&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_rhs'>rhs</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_lhs'>lhs</span><span class='op'>=</span><span class='kw'>self</span>
 	<span class='id identifier rubyid_base_compare'>base_compare</span><span class='op'>=</span><span class='id identifier rubyid_lhs'>lhs</span><span class='period'>.</span><span class='id identifier rubyid_repeated_pattern'>repeated_pattern</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_rhs'>rhs</span><span class='period'>.</span><span class='id identifier rubyid_repeated_pattern'>repeated_pattern</span>
 	<span class='id identifier rubyid_length_compare'>length_compare</span><span class='op'>=</span><span class='id identifier rubyid_lhs'>lhs</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_rhs'>rhs</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_base_compare'>base_compare</span><span class='period'>.</span><span class='id identifier rubyid_nonzero?'>nonzero?</span> <span class='op'>||</span> <span class='id identifier rubyid_length_compare'>length_compare</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="canonical_repetition_tree-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>canonical_repetition_tree</strong>(min = self.repetition_length.begin, max = self.repetition_length.end) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>the useful inverse function of new. String to regexp</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


70
71
72</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/regexp_repetition.rb', line 70</span>

<span class='kw'>def</span> <span class='id identifier rubyid_canonical_repetition_tree'>canonical_repetition_tree</span><span class='lparen'>(</span><span class='id identifier rubyid_min'>min</span><span class='op'>=</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span><span class='period'>.</span><span class='id identifier rubyid_begin'>begin</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span><span class='op'>=</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span><span class='period'>.</span><span class='id identifier rubyid_end'>end</span><span class='rparen'>)</span>
	<span class='kw'>return</span> <span class='const'>RegexpTree</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>{</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_min'>min</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>,</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>}</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="concise_repetition_node-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>concise_repetition_node</strong>(min = self.repetition_length.begin, max = self.repetition_length.end) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return a RegexpTree node for self Concise means to use abbreviations like
'*', '+', " rather than the canonical n,m If no repetition returns "
equivalent to 1,1</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/regexp_repetition.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_concise_repetition_node'>concise_repetition_node</span><span class='lparen'>(</span><span class='id identifier rubyid_min'>min</span><span class='op'>=</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span><span class='period'>.</span><span class='id identifier rubyid_begin'>begin</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span><span class='op'>=</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span><span class='period'>.</span><span class='id identifier rubyid_end'>end</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_min'>min</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='op'>==</span><span class='int'>0</span> <span class='kw'>then</span>
		<span class='kw'>if</span> <span class='id identifier rubyid_max'>max</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='op'>==</span><span class='int'>1</span> <span class='kw'>then</span>
			<span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>?</span><span class='tstring_end'>'</span></span>
		<span class='kw'>elsif</span> <span class='id identifier rubyid_max'>max</span><span class='op'>==</span><span class='const'>UnboundedFixnum</span><span class='op'>::</span><span class='const'>Inf</span> <span class='kw'>then</span>
			<span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>*</span><span class='tstring_end'>'</span></span>
		<span class='kw'>else</span>
			<span class='kw'>return</span> <span class='id identifier rubyid_canonical_repetition_tree'>canonical_repetition_tree</span><span class='lparen'>(</span><span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span><span class='rparen'>)</span>
		<span class='kw'>end</span> <span class='comment'>#if
</span>	<span class='kw'>elsif</span> <span class='id identifier rubyid_min'>min</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='op'>==</span><span class='int'>1</span> <span class='kw'>then</span>
		<span class='kw'>if</span> <span class='id identifier rubyid_max'>max</span><span class='op'>==</span><span class='int'>1</span> <span class='kw'>then</span>
			<span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span>
		<span class='kw'>elsif</span> <span class='id identifier rubyid_max'>max</span><span class='op'>==</span><span class='const'>UnboundedFixnum</span><span class='op'>::</span><span class='const'>Inf</span> <span class='kw'>then</span>
			<span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>+</span><span class='tstring_end'>'</span></span>
		<span class='kw'>else</span>
			<span class='kw'>return</span> <span class='id identifier rubyid_canonical_repetition_tree'>canonical_repetition_tree</span><span class='lparen'>(</span><span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span><span class='rparen'>)</span>
		<span class='kw'>end</span> <span class='comment'>#if
</span>	<span class='kw'>elsif</span> <span class='id identifier rubyid_min'>min</span><span class='op'>==</span><span class='id identifier rubyid_max'>max</span> <span class='kw'>then</span>
		<span class='kw'>return</span> <span class='const'>RegexpTree</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>{</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_min'>min</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>}</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
	<span class='kw'>else</span>
		<span class='kw'>return</span> <span class='id identifier rubyid_canonical_repetition_tree'>canonical_repetition_tree</span><span class='lparen'>(</span><span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span><span class='rparen'>)</span>
	<span class='kw'>end</span> <span class='comment'>#if
</span>	<span class='kw'>return</span> <span class='const'>RegexpTree</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>{</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_min'>min</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>}</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="merge_to_repetition-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>merge_to_repetition</strong>(branch = self) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>recursive merging of consecutive identical pairs</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/regexp_repetition.rb', line 156</span>

<span class='kw'>def</span> <span class='id identifier rubyid_merge_to_repetition'>merge_to_repetition</span><span class='lparen'>(</span><span class='id identifier rubyid_branch'>branch</span><span class='op'>=</span><span class='kw'>self</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_branch'>branch</span><span class='period'>.</span><span class='id identifier rubyid_instance_of?'>instance_of?</span><span class='lparen'>(</span><span class='const'>Array</span><span class='rparen'>)</span> <span class='kw'>then</span>
		<span class='id identifier rubyid_branch'>branch</span><span class='op'>=</span><span class='const'>RegexpTree</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_branch'>branch</span><span class='rparen'>)</span>
	<span class='kw'>end</span> <span class='comment'>#if
</span>	<span class='kw'>if</span> <span class='id identifier rubyid_branch'>branch</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='op'>&lt;</span><span class='int'>2</span> <span class='kw'>then</span> <span class='comment'># terminate recursion
</span>		<span class='kw'>return</span> <span class='id identifier rubyid_branch'>branch</span>
	<span class='kw'>else</span>
<span class='comment'># puts &quot;branch=#{branch}&quot;
</span>		<span class='id identifier rubyid_first'>first</span><span class='op'>=</span><span class='id identifier rubyid_branch'>branch</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
		<span class='id identifier rubyid_second'>second</span><span class='op'>=</span><span class='id identifier rubyid_branch'>branch</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
		<span class='kw'>if</span> <span class='id identifier rubyid_branch'>branch</span><span class='period'>.</span><span class='id identifier rubyid_repeated_pattern'>repeated_pattern</span><span class='lparen'>(</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span><span class='op'>==</span><span class='id identifier rubyid_branch'>branch</span><span class='period'>.</span><span class='id identifier rubyid_repeated_pattern'>repeated_pattern</span><span class='lparen'>(</span><span class='id identifier rubyid_second'>second</span><span class='rparen'>)</span> <span class='kw'>then</span>
			<span class='id identifier rubyid_first_repetition'>first_repetition</span><span class='op'>=</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span>
			<span class='id identifier rubyid_second_repetition'>second_repetition</span><span class='op'>=</span><span class='id identifier rubyid_branch'>branch</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span><span class='lparen'>(</span><span class='id identifier rubyid_second'>second</span><span class='rparen'>)</span>
			<span class='id identifier rubyid_merged_repetition'>merged_repetition</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_first_repetition'>first_repetition</span><span class='op'>+</span><span class='id identifier rubyid_second_repetition'>second_repetition</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_concise_repetition_node'>concise_repetition_node</span>
			<span class='id identifier rubyid_merge_to_repetition'>merge_to_repetition</span><span class='lparen'>(</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_repeated_pattern'>repeated_pattern</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_merged_repetition'>merged_repetition</span><span class='op'>+</span><span class='id identifier rubyid_branch'>branch</span><span class='lbracket'>[</span><span class='int'>2</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
		<span class='kw'>else</span> <span class='comment'># couldn't merge first element
</span>			<span class='lbracket'>[</span><span class='id identifier rubyid_first'>first</span><span class='rbracket'>]</span><span class='op'>+</span><span class='id identifier rubyid_merge_to_repetition'>merge_to_repetition</span><span class='lparen'>(</span><span class='id identifier rubyid_branch'>branch</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>	<span class='comment'># shorten string to ensure recursion termination
</span>		<span class='kw'>end</span> <span class='comment'>#if
</span>	<span class='kw'>end</span> <span class='comment'>#if
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="probability_of_repetition-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>probability_of_repetition</strong>(repetition, match_length = nil, branch = self) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Probability for a single matched repetitions of an alternative (single
character) Here the probability distribution is  assumed uniform across the
probability space ranges from zero for an impossible match (usually
avoided) to 1 for certain match like /.*/ (actually
RegexpRepetition::TestCases::Any is more accurate) returns nil if
indeterminate (e.g. nested repetitions) (call probability_range or
RegexpMatch#probability instead) match_length (of random characters) is
useful in unanchored cases match_length.nil?  probability (.p) of length n
I == L &amp; R then L &gt;= I &amp;&amp; R &gt;= I and L.p(n) &gt;= I.p(n)
&amp;&amp; R.p(n) &gt;= I.p(n)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/regexp_repetition.rb', line 123</span>

<span class='kw'>def</span> <span class='id identifier rubyid_probability_of_repetition'>probability_of_repetition</span><span class='lparen'>(</span><span class='id identifier rubyid_repetition'>repetition</span><span class='comma'>,</span> <span class='id identifier rubyid_match_length'>match_length</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_branch'>branch</span><span class='op'>=</span><span class='kw'>self</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_branch'>branch</span><span class='period'>.</span><span class='id identifier rubyid_instance_of?'>instance_of?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span> <span class='kw'>then</span>
		<span class='id identifier rubyid_alternatives'>alternatives</span><span class='op'>=</span><span class='int'>1</span>
		<span class='id identifier rubyid_base'>base</span><span class='op'>=</span><span class='id identifier rubyid_branch'>branch</span>
		<span class='id identifier rubyid_repetition_length'>repetition_length</span><span class='op'>=</span><span class='id identifier rubyid_branch'>branch</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span>
		<span class='id identifier rubyid_anchoring'>anchoring</span><span class='op'>=</span><span class='const'>Anchoring</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_branch'>branch</span><span class='rparen'>)</span>
	<span class='kw'>else</span>
		<span class='id identifier rubyid_repetition_length'>repetition_length</span><span class='op'>=</span><span class='id identifier rubyid_branch'>branch</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span>
		<span class='id identifier rubyid_base'>base</span><span class='op'>=</span><span class='id identifier rubyid_branch'>branch</span><span class='period'>.</span><span class='id identifier rubyid_repeated_pattern'>repeated_pattern</span>
		<span class='id identifier rubyid_anchoring'>anchoring</span><span class='op'>=</span><span class='const'>Anchoring</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_branch'>branch</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_alternative_list'>alternative_list</span><span class='op'>=</span><span class='id identifier rubyid_alternatives?'>alternatives?</span><span class='lparen'>(</span><span class='id identifier rubyid_branch'>branch</span><span class='period'>.</span><span class='id identifier rubyid_repeated_pattern'>repeated_pattern</span><span class='rparen'>)</span> <span class='comment'># kludge for now
</span>		<span class='kw'>if</span> <span class='id identifier rubyid_alternative_list'>alternative_list</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>then</span>
			<span class='kw'>return</span> <span class='kw'>nil</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_alternatives'>alternatives</span><span class='op'>=</span><span class='id identifier rubyid_alternative_list'>alternative_list</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
		<span class='kw'>end</span>  <span class='comment'>#if
</span>	<span class='kw'>end</span> <span class='comment'>#if
</span>	<span class='id identifier rubyid_character_probability'>character_probability</span><span class='op'>=</span><span class='id identifier rubyid_alternatives'>alternatives</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span><span class='op'>/</span><span class='id identifier rubyid_probability_space_size'>probability_space_size</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_repetition'>repetition</span><span class='op'>==</span><span class='int'>0</span> <span class='kw'>then</span>
		<span class='id identifier rubyid_probability'>probability</span><span class='op'>=</span><span class='float'>1.0</span>
	<span class='kw'>elsif</span> <span class='id identifier rubyid_repetition'>repetition</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>then</span> <span class='comment'># infinit repetition
</span>		<span class='kw'>if</span> <span class='id identifier rubyid_character_probability'>character_probability</span><span class='op'>==</span><span class='float'>1.0</span> <span class='kw'>then</span>
			<span class='id identifier rubyid_probability'>probability</span><span class='op'>=</span><span class='float'>1.0</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_probability'>probability</span><span class='op'>=</span><span class='float'>0.0</span>
		<span class='kw'>end</span> <span class='comment'>#if
</span>	<span class='kw'>else</span>
		<span class='id identifier rubyid_probability'>probability</span><span class='op'>=</span><span class='id identifier rubyid_character_probability'>character_probability</span><span class='op'>**</span><span class='id identifier rubyid_repetition'>repetition</span>
	<span class='kw'>end</span> <span class='comment'>#if
</span>	<span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>probability_space_regexp=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_probability_space_regexp'>probability_space_regexp</span><span class='rbrace'>}</span><span class='tstring_content'> is probably too restrictive for branch=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_branch'>branch</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_probability'>probability</span><span class='op'>&gt;</span><span class='float'>1.0</span>
	<span class='kw'>return</span> <span class='id identifier rubyid_probability'>probability</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="probability_range-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>probability_range</strong>(node = self) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Probability range depending on matched length</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


102
103
104
105
106
107
108
109</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/regexp_repetition.rb', line 102</span>

<span class='kw'>def</span> <span class='id identifier rubyid_probability_range'>probability_range</span><span class='lparen'>(</span><span class='id identifier rubyid_node'>node</span><span class='op'>=</span><span class='kw'>self</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_instance_of?'>instance_of?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span> <span class='kw'>then</span>
		<span class='id identifier rubyid_range'>range</span><span class='op'>=</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='op'>..</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
	<span class='kw'>else</span>
		<span class='id identifier rubyid_range'>range</span><span class='op'>=</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span>
	<span class='kw'>end</span> <span class='comment'>#if
</span>	<span class='kw'>return</span> <span class='id identifier rubyid_probability_of_repetition'>probability_of_repetition</span><span class='lparen'>(</span><span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_begin'>begin</span><span class='rparen'>)</span><span class='op'>..</span><span class='id identifier rubyid_probability_of_repetition'>probability_of_repetition</span><span class='lparen'>(</span><span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_end'>end</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="|-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>|</strong>(rhs) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Union. Unlike set union disjoint sets return a spanning set.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63
64
65
66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/regexp_repetition.rb', line 63</span>

<span class='kw'>def</span> <span class='op'>|</span><span class='lparen'>(</span><span class='id identifier rubyid_rhs'>rhs</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_lhs'>lhs</span><span class='op'>=</span><span class='kw'>self</span>
 	<span class='id identifier rubyid_base'>base</span><span class='op'>=</span><span class='id identifier rubyid_lhs'>lhs</span><span class='period'>.</span><span class='id identifier rubyid_repeated_pattern'>repeated_pattern</span> <span class='op'>|</span> <span class='id identifier rubyid_rhs'>rhs</span><span class='period'>.</span><span class='id identifier rubyid_repeated_pattern'>repeated_pattern</span>
 	<span class='id identifier rubyid_length'>length</span><span class='op'>=</span><span class='id identifier rubyid_lhs'>lhs</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span> <span class='op'>|</span> <span class='id identifier rubyid_rhs'>rhs</span><span class='period'>.</span><span class='id identifier rubyid_repetition_length'>repetition_length</span>
	<span class='kw'>return</span> <span class='const'>RegexpRepetition</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_base'>base</span><span class='comma'>,</span> <span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Oct 18 09:13:58 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.2 (ruby-1.9.3).
</div>

  </body>
</html>